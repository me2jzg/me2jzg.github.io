<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>wxWidgets: wxSecretStore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="page_container">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr>
  <td id="projectlogo">
    <a href="https://www.wxwidgets.org/" target="_new">
      <img alt="wxWidgets" src="logo.png"/>
    </a>
  </td>
  <td style="padding-left: 0.5em; text-align: right;">
   <span id="projectnumber">Version: 3.1.4</span>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classwx_secret_store-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">wxSecretStore Class Reference<div class="ingroups"><a class="el" href="group__group__class.html">Class List by Category</a> &raquo; <a class="el" href="group__group__class__misc.html">Miscellaneous</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;wx/secretstore.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A collection of secrets, sometimes called a key chain. </p>
<p>This class provides access to the secrets stored in the OS-provided facility, e.g. credentials manager under MSW, keychain under macOS or Freedesktop-compliant password storage mechanism such as GNOME keyring under Unix systems.</p>
<p>Currently only the access to the default keychain/ring is provided using <a class="el" href="classwx_secret_store.html#aa37e4264c3fe116194c6b86c9cfc0d22" title="Returns the default secrets collection to use. ">GetDefault()</a> method, support for other ones could be added in the future. After calling this method just call <a class="el" href="classwx_secret_store.html#a6c667fdac4052e9afc75b3d491a2073d" title="Store a username/password combination. ">Save()</a> to store a password entered by user and then call <a class="el" href="classwx_secret_store.html#a642bb258b41827428b10fc44a9189864" title="Look up the username/password for the given service. ">Load()</a> to retrieve it during next program execution. See <a class="el" href="page_samples.html#page_samples_secretstore">Secret Store Sample</a> for an example of using this class.</p>
<p>The <code>service</code> parameter of the methods in this class should describe the purpose of the password and be unique to your program, e.g. it could be "MyCompany/MyProgram/SomeServer". Note that the server name must be included in the string to allow storing passwords for more than one server.</p>
<p>Notice that this class is always available under MSW (except when using MinGW32 which doesn't provide the required <code>wincred.h</code> header) and macOS but requires libsecret (see <a href="https://developer.gnome.org/libsecret/">https://developer.gnome.org/libsecret/</a>) under Unix and may not be compiled in if it wasn't found. You can check <code>wxUSE_SECRETSTORE</code> to test for this. Moreover, retrieving the default secret store may also fail under Unix during run-time if the desktop environment doesn't provide one, so don't forget to call <a class="el" href="classwx_secret_store.html#abc49e6cd3e3ffde58d106e379e13fec4" title="Check if this object can actually be used. ">IsOk()</a> to check for this too.</p>
<p>Example of storing credentials using this class: </p><div class="fragment"><div class="line"><a class="code" href="classwx_secret_store.html">wxSecretStore</a> store = <a class="code" href="classwx_secret_store.html#aa37e4264c3fe116194c6b86c9cfc0d22">wxSecretStore::GetDefault</a>();</div><div class="line"><a class="code" href="classwx_string.html">wxString</a> errmsg;</div><div class="line"><span class="keywordflow">if</span> ( store.<a class="code" href="classwx_secret_store.html#abc49e6cd3e3ffde58d106e379e13fec4">IsOk</a>(&amp;errmsg) )</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> ( !store.<a class="code" href="classwx_secret_store.html#a6c667fdac4052e9afc75b3d491a2073d">Save</a>(<span class="stringliteral">&quot;MyApp/MyService&quot;</span>, username, password) )</div><div class="line">        <a class="code" href="group__group__funcmacro__log.html#ga0c2b19580ef6721508e6d69534b10e90">wxLogWarning</a>(<span class="stringliteral">&quot;Failed to save credentials to the system secret store.&quot;</span>);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    <a class="code" href="group__group__funcmacro__log.html#ga0c2b19580ef6721508e6d69534b10e90">wxLogWarning</a>(<span class="stringliteral">&quot;This system doesn&#39;t support storing passwords securely &quot;</span></div><div class="line">                 <span class="stringliteral">&quot;(%s).&quot;</span>, errmsg);</div><div class="line">}</div></div><!-- fragment --><p>And to load it back: </p><div class="fragment"><div class="line"><a class="code" href="classwx_secret_store.html">wxSecretStore</a> store = <a class="code" href="classwx_secret_store.html#aa37e4264c3fe116194c6b86c9cfc0d22">wxSecretStore::GetDefault</a>();</div><div class="line"><span class="keywordflow">if</span> ( store.<a class="code" href="classwx_secret_store.html#abc49e6cd3e3ffde58d106e379e13fec4">IsOk</a>() )</div><div class="line">{</div><div class="line">    <a class="code" href="classwx_string.html">wxString</a> username;</div><div class="line">    <a class="code" href="classwx_secret_value.html">wxSecretValue</a> password;</div><div class="line">    <span class="keywordflow">if</span> ( store.<a class="code" href="classwx_secret_store.html#a642bb258b41827428b10fc44a9189864">Load</a>(<span class="stringliteral">&quot;MyApp/MyService&quot;</span>, username, password) )</div><div class="line">        ... use the password ...</div><div class="line">}</div></div><!-- fragment --><h2></h2>
<div><span class="lib">Library:</span>&#160;&#160;<span class="lib_text"><a class="el" href="page_libs.html#page_libs_wxbase">wxBase</a></span></div><div><span class="category">Category:</span>&#160;&#160;<span class="category_text"><a class="el" href="group__group__class__misc.html">Miscellaneous</a></span></div><dl class="section since"><dt>Since</dt><dd>3.1.1 </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abc49e6cd3e3ffde58d106e379e13fec4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_secret_store.html#abc49e6cd3e3ffde58d106e379e13fec4">IsOk</a> (<a class="el" href="classwx_string.html">wxString</a> *errmsg=NULL) const</td></tr>
<tr class="memdesc:abc49e6cd3e3ffde58d106e379e13fec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if this object can actually be used.  <a href="#abc49e6cd3e3ffde58d106e379e13fec4">More...</a><br /></td></tr>
<tr class="separator:abc49e6cd3e3ffde58d106e379e13fec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c667fdac4052e9afc75b3d491a2073d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_secret_store.html#a6c667fdac4052e9afc75b3d491a2073d">Save</a> (const <a class="el" href="classwx_string.html">wxString</a> &amp;service, const <a class="el" href="classwx_string.html">wxString</a> &amp;username, const <a class="el" href="classwx_secret_value.html">wxSecretValue</a> &amp;password)</td></tr>
<tr class="memdesc:a6c667fdac4052e9afc75b3d491a2073d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a username/password combination.  <a href="#a6c667fdac4052e9afc75b3d491a2073d">More...</a><br /></td></tr>
<tr class="separator:a6c667fdac4052e9afc75b3d491a2073d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642bb258b41827428b10fc44a9189864"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_secret_store.html#a642bb258b41827428b10fc44a9189864">Load</a> (const <a class="el" href="classwx_string.html">wxString</a> &amp;service, <a class="el" href="classwx_string.html">wxString</a> &amp;username, <a class="el" href="classwx_secret_value.html">wxSecretValue</a> &amp;password) const</td></tr>
<tr class="memdesc:a642bb258b41827428b10fc44a9189864"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up the username/password for the given service.  <a href="#a642bb258b41827428b10fc44a9189864">More...</a><br /></td></tr>
<tr class="separator:a642bb258b41827428b10fc44a9189864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f374358518416fafffbc1cc59dec6e9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_secret_store.html#a4f374358518416fafffbc1cc59dec6e9">Delete</a> (const <a class="el" href="classwx_string.html">wxString</a> &amp;service)</td></tr>
<tr class="memdesc:a4f374358518416fafffbc1cc59dec6e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a previously stored username/password combination.  <a href="#a4f374358518416fafffbc1cc59dec6e9">More...</a><br /></td></tr>
<tr class="separator:a4f374358518416fafffbc1cc59dec6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aa37e4264c3fe116194c6b86c9cfc0d22"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classwx_secret_store.html">wxSecretStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_secret_store.html#aa37e4264c3fe116194c6b86c9cfc0d22">GetDefault</a> ()</td></tr>
<tr class="memdesc:aa37e4264c3fe116194c6b86c9cfc0d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default secrets collection to use.  <a href="#aa37e4264c3fe116194c6b86c9cfc0d22">More...</a><br /></td></tr>
<tr class="separator:aa37e4264c3fe116194c6b86c9cfc0d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4f374358518416fafffbc1cc59dec6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f374358518416fafffbc1cc59dec6e9">&#9670;&nbsp;</a></span>Delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wxSecretStore::Delete </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_string.html">wxString</a> &amp;&#160;</td>
          <td class="paramname"><em>service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a previously stored username/password combination. </p>
<p>If anything was deleted, returns true. Otherwise returns false and logs an error if any error other than not finding any matches occurred. </p>

</div>
</div>
<a id="aa37e4264c3fe116194c6b86c9cfc0d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa37e4264c3fe116194c6b86c9cfc0d22">&#9670;&nbsp;</a></span>GetDefault()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classwx_secret_store.html">wxSecretStore</a> wxSecretStore::GetDefault </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the default secrets collection to use. </p>
<p>Call <a class="el" href="classwx_secret_store.html#abc49e6cd3e3ffde58d106e379e13fec4" title="Check if this object can actually be used. ">IsOk()</a> on the returned object to check if this method succeeded.</p>
<p>Note that this method may show a dialog to the user under some platforms, so it can take an arbitrarily long time to return. </p>

</div>
</div>
<a id="abc49e6cd3e3ffde58d106e379e13fec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc49e6cd3e3ffde58d106e379e13fec4">&#9670;&nbsp;</a></span>IsOk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wxSecretStore::IsOk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwx_string.html">wxString</a> *&#160;</td>
          <td class="paramname"><em>errmsg</em> = <code>NULL</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if this object can actually be used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errmsg</td><td>If not <span class="literal">NULL</span>, this parameter is filled with a user-readable error message explaining why the secret store can't be used (this argument is new since wxWidgets 3.1.4) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a642bb258b41827428b10fc44a9189864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642bb258b41827428b10fc44a9189864">&#9670;&nbsp;</a></span>Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wxSecretStore::Load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_string.html">wxString</a> &amp;&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwx_string.html">wxString</a> &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwx_secret_value.html">wxSecretValue</a> &amp;&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up the username/password for the given service. </p>
<p>If no username/password is found for the given service, false is returned.</p>
<p>Otherwise the function returns true and updates the provided <em>username</em> and <em>password</em> arguments. </p>

</div>
</div>
<a id="a6c667fdac4052e9afc75b3d491a2073d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c667fdac4052e9afc75b3d491a2073d">&#9670;&nbsp;</a></span>Save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wxSecretStore::Save </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_string.html">wxString</a> &amp;&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classwx_string.html">wxString</a> &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classwx_secret_value.html">wxSecretValue</a> &amp;&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store a username/password combination. </p>
<p>The service name should be user readable and unique.</p>
<p>If a secret with the same service name already exists, it will be overwritten with the new value. In particular, notice that it is not currently allowed to store passwords for different usernames for the same service, even if the underlying platform API supports this (as is the case for macOS but not MSW).</p>
<p>Returns false after logging an error message if an error occurs, otherwise returns true indicating that the secret has been stored and can be retrieved by calling <a class="el" href="classwx_secret_store.html#a642bb258b41827428b10fc44a9189864" title="Look up the username/password for the given service. ">Load()</a> later. </p>

</div>
</div>
</div><!-- contents -->

<address class="footer">
	<small>
		Generated on Wed Jul 22 2020 19:22:48 for wxWidgets by <a href="http://www.doxygen.org/index.html" target="_new">Doxygen</a> 1.8.13
	</small>
</address>
<script src="wxwidgets.js" type="text/javascript"></script>
</div><!-- #page_container -->
</body>
</html>