<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>wxWidgets: wxWidgets for GTK installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="page_container">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr>
  <td id="projectlogo">
    <a href="https://www.wxwidgets.org/" target="_new">
      <img alt="wxWidgets" src="logo.png"/>
    </a>
  </td>
  <td style="padding-left: 0.5em; text-align: right;">
   <span id="projectnumber">Version: 3.1.4</span>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Documentation</a></li><li class="navelem"><a class="el" href="page_introduction.html">Introduction</a></li><li class="navelem"><a class="el" href="page_port.html">Platform Details</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">wxWidgets for GTK installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#gtk_install">Installation                           </a><ul><li class="level2"><a href="#gtk_simple">The simplest case                      </a></li>
<li class="level2"><a href="#gtk_expert">The expert case                        </a></li>
<li class="level2"><a href="#gtk_errors_simple">The simplest errors                    </a></li>
<li class="level2"><a href="#gtk_simple_app">The simplest program                   </a></li>
<li class="level2"><a href="#gtk_libs_gui">GUI libraries                          </a></li>
<li class="level2"><a href="#gtk_libs_misc">Additional libraries                   </a></li>
<li class="level2"><a href="#gtk_cygwin">Building wxGTK on Cygwin               </a></li>
<li class="level2"><a href="#gtk_config">Create your configuration              </a></li>
<li class="level2"><a href="#gtk_options">General options                        </a></li>
<li class="level2"><a href="#gtk_feature_options">Feature Options                        </a></li>
<li class="level2"><a href="#gtk_compling">Compiling                              </a></li>
<li class="level2"><a href="#gtk_new_project">Creating a new Project                 </a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>IMPORTANT NOTE:</p>
<p>If you experience problems installing, please re-read these instructions and other related files (todo.txt, bugs.txt and osname.txt for your platform if it exists) carefully before mailing wxwin-users or the author. Preferably, try to fix the problem first and then send a patch to the author.</p>
<p>When sending bug reports tell us what version of wxWidgets you are using (including the beta) and what compiler on what system. One example: wxGTK 3.0.5, GCC 9.3.1, Fedora 31</p>
<h1><a class="anchor" id="gtk_install"></a>
Installation                           </h1>
<h2><a class="anchor" id="gtk_simple"></a>
The simplest case                      </h2>
<p>If you compile wxWidgets on Linux for the first time and don't like to read install instructions just do (in the base dir): </p><pre class="fragment">&gt; mkdir buildgtk
&gt; cd buildgtk
&gt; ../configure --with-gtk
&gt; make
&gt; su &lt;type root password&gt;
&gt; make install
&gt; ldconfig
</pre><p>[if you get "ldconfig: command not found", try using "/sbin/ldconfig"]</p>
<p>If you don't do the 'make install' part, you can still use the libraries from the buildgtk directory, but they may not be available to other users.</p>
<p>If you want to remove wxWidgets on Unix you can do this: </p><pre class="fragment">&gt; su &lt;type root password&gt;
&gt; make uninstall
&gt; ldconfig
</pre><p>Note that by default, GTK 3 is used. GTK 2 can be specified with &ndash;with-gtk=2.</p>
<h2><a class="anchor" id="gtk_expert"></a>
The expert case                        </h2>
<p>If you want to do some more serious cross-platform programming with wxWidgets, such as for GTK and Motif, you can now build two complete libraries and use them concurrently. To do this, create a separate directory for each build of wxWidgets - you may also want to create different versions of wxWidgets and test them concurrently. Most typically, this would be a version configured with &ndash;enable-debug and one without.</p>
<p>For building three versions (one GTK, one Motif and a debug version of the GTK source) you'd do this: </p><pre class="fragment">mkdir buildmotif
cd buildmotif
../configure --with-motif
make
cd ..

mkdir buildgtk
cd buildgtk
../configure --with-gtk
make
cd ..

mkdir buildgtkd
cd buildgtkd
../configure --with-gtk --enable-debug
make
cd ..
</pre><p>Note that you can install all those libraries concurrently, you just need to pass the appropriate flags when using them.</p>
<h2><a class="anchor" id="gtk_errors_simple"></a>
The simplest errors                    </h2>
<p>For any configure errors: please look at config.log file which was generated during configure run, it usually contains some useful information.</p>
<p>configure reports, that you don't have GTK 1.2/2.0/3.0 installed although you are very sure you have. Well, you have installed it, but you also have another version of the GTK installed, which you may need to remove including other versions of glib (and its headers). Or maybe you installed it in a non-default location and configure can't find it there, so please check that your PATH variable includes the path to the correct gtk-config/pkg-config. Also check that your LD_LIBRARY_PATH or equivalent variable contains the path to GTK libraries if they were installed in a non-default location.</p>
<p>You get errors from make: please use GNU make instead of the native make program. Currently wxWidgets can be built only with GNU make, BSD make and Solaris make. Other versions might work or not (any which don't have VPATH support definitely won't).</p>
<p>You get errors during compilation: The reason is that you probably have a broken compiler. GCC 2.8 and earlier versions and egcs are likely to cause problems due to incomplete support for C++ and optimisation bugs. Best to use GCC 2.95 or later.</p>
<p>You get immediate segfault when starting any sample or application: This is either due to having compiled the library with different flags or options than your program - typically you might have the <code>__WXDEBUG__</code> option set for the library but not for your program - or due to using a compiler with optimisation bugs.</p>
<h2><a class="anchor" id="gtk_simple_app"></a>
The simplest program                   </h2>
<p>Now create your super-application myfoo.cpp and compile anywhere with </p><pre class="fragment">g++ myfoo.cpp `wx-config --libs --cxxflags` -o myfoo
</pre><h2><a class="anchor" id="gtk_libs_gui"></a>
GUI libraries                          </h2>
<p>wxWidgets/GTK requires the GTK library to be installed on your system.</p>
<p>You can get the newest version of GTK from the GTK homepage at:</p>
<p><a href="http://www.gtk.org">http://www.gtk.org</a></p>
<h2><a class="anchor" id="gtk_libs_misc"></a>
Additional libraries                   </h2>
<p>wxWidgets/Gtk requires a thread library and X libraries known to work with threads. This is the case on all commercial Unix-Variants and all Linux-Versions that are based on glibc 2 except RedHat 5.0 which is broken in many aspects. As of writing this, virtually all Linux distributions have correct glibc 2 support.</p>
<p>You can disable thread support by running </p><pre class="fragment">./configure --disable-threads
make
su &lt;type root password&gt;
make install
ldconfig
exit
</pre><h2><a class="anchor" id="gtk_cygwin"></a>
Building wxGTK on Cygwin               </h2>
<p>The normal build instructions should work fine on Cygwin. The one difference with Cygwin is that when using the "--enable-shared" configure option (which is the default) the API is exported explicitly using __declspec(dllexport) rather than all global symbols being available.</p>
<p>This shouldn't make a difference using the library and should be a little more efficient. However if an export attribute has been missed somewhere you will see linking errors. If this happens then you can work around the problem by setting LDFLAGS=-Wl,&ndash;export-all-symbols. Please also let us know about it on the wx-dev mailing list.</p>
<h2><a class="anchor" id="gtk_config"></a>
Create your configuration              </h2>
<p>Usage: </p><pre class="fragment">./configure options
</pre><p>If you want to use system's C and C++ compiler, set environment variables CC and CXX as </p><pre class="fragment">% setenv CC cc
% setenv CXX CC
% ./configure [options]
</pre><p>to see all the options please use: </p><pre class="fragment">./configure --help
</pre><p>It is recommended to build wxWidgets in another directory (maybe a subdirectory of your wxWidgets installation) as this allows you to have multiple configurations (for example, debug and release or GTK and Motif) simultaneously.</p>
<h2><a class="anchor" id="gtk_options"></a>
General options                        </h2>
<p>Given below are the commands to change the default behaviour, i.e. if it says "--disable-threads" it means that threads are enabled by default.</p>
<p>Normally, you won't have to choose a toolkit, because when you download wxGTK, it will default to &ndash;with-gtk etc. But if you use the git repository you have to choose a toolkit. You must do this by running configure with either of: </p><pre class="fragment">--with-gtk=3            Use GTK 3. Default.
--with-gtk=2            Use GTK 2.
--with-gtk=1            Use GTK 1.2.
</pre><p>The following options handle the kind of library you want to build. </p><pre class="fragment">--disable-threads       Compile without thread support.

--disable-shared        Do not create shared libraries, but
                        build static libraries instead.

--enable-monolithic     Build wxWidgets as single library instead
                        of as several smaller libraries (which is
                        the default since wxWidgets 2.5.0).

--disable-optimise      Do not optimise the code. Can
                        sometimes be useful for debugging
                        and is required on some architectures
                        such as Sun with gcc 2.8.X which
                        would otherwise produce segvs.

--enable-unicode        Enable Unicode support.

--enable-profile        Add profiling info to the object
                        files. Currently broken, I think.

--enable-no_rtti        Enable compilation without creation of
                        C++ RTTI information in object files.
                        This will speed-up compilation and reduce
                        binary size.

--enable-no_exceptions  Enable compilation without creation of
                        C++ exception information in object files.
                        This will speed-up compilation and reduce
                        binary size. Also fewer crashes during the
                        actual compilation...

--enable-permissive     Enable compilation without checking for strict
                        ANSI conformance.  Useful to prevent the build
                        dying with errors as soon as you compile with
                        Solaris' ANSI-defying headers.

--enable-mem_tracing    Add built-in memory tracing.

--enable-dmalloc        Use the dmalloc memory debugger.
                        Read more at www.letters.com/dmalloc/

--enable-debug_info     Add debug info to object files and
                        executables for use with debuggers
                        such as gdb (or its many frontends).

--enable-debug_flag     Define __DEBUG__ and __WXDEBUG__ when
                        compiling. This enable wxWidgets' very
                        useful internal debugging tricks (such
                        as automatically reporting illegal calls)
                        to work. Note that program and library
                        must be compiled with the same debug
                        options.

--enable-debug          Same as --enable-debug_info and
                        --enable-debug_flag together. Unless you have
                        some very specific needs, you should use this
                        option instead of --enable-debug_info/flag ones
                        separately.
</pre><h2><a class="anchor" id="gtk_feature_options"></a>
Feature Options                        </h2>
<p>When producing an executable that is linked statically with wxGTK you'll be surprised at its immense size. This can sometimes be drastically reduced by removing features from wxWidgets that are not used in your program. The most relevant such features are </p><pre class="fragment">--without-libpng        Disables PNG image format code.

--without-libjpeg       Disables JPEG image format code.

--without-libtiff       Disables TIFF image format code.

--without-expat         Disable XML classes based on Expat parser.

--disable-pnm           Disables PNM image format code.

--disable-gif           Disables GIF image format code.

--disable-pcx           Disables PCX image format code.

--disable-iff           Disables IFF image format code.

--disable-resources     Disables the use of *.wxr type resources.

--disable-threads       Disables threads. Will also disable sockets.

--disable-sockets       Disables sockets.

--disable-dnd           Disables Drag'n'Drop.

--disable-clipboard     Disables Clipboard.

--disable-serial        Disables object instance serialisation.

--disable-streams       Disables the wxStream classes.

--disable-file          Disables the wxFile class.

--disable-textfile      Disables the wxTextFile class.

--disable-intl          Disables the internationalisation.

--disable-validators    Disables validators.

--disable-accel         Disables accelerators support.
</pre><p>Apart from disabling certain features you can very often "strip" the program of its debugging information resulting in a significant reduction in size.</p>
<p>Please see the output of "./configure --help" for comprehensive list of all configurable options.</p>
<h2><a class="anchor" id="gtk_compling"></a>
Compiling                              </h2>
<p>The following must be done in the base directory (e.g. ~/wxGTK or ~/wxWin or whatever)</p>
<p>Now the makefiles are created (by configure) and you can compile the library by typing: </p><pre class="fragment">make
</pre><p>make yourself some coffee, as it will take some time. On an old 386SX possibly two weeks. During compilation, you'll get a few warning messages depending in your compiler.</p>
<p>If you want to be more selective, you can change into a specific directory and type "make" there.</p>
<p>Then you may install the library and its header files under /usr/local/include/wx and /usr/local/lib respectively. You have to log in as root (i.e. run "su" and enter the root password) and type </p><pre class="fragment">    make install
</pre><p>You can remove any traces of wxWidgets by typing </p><pre class="fragment">    make uninstall
</pre><p>If you want to save disk space by removing unnecessary object-files:</p>
<p>make clean</p>
<p>in the various directories will do the work for you.</p>
<h2><a class="anchor" id="gtk_new_project"></a>
Creating a new Project                 </h2>
<ol type="1">
<li><p class="startli">The first way uses the installed libraries and header files automatically using wx-config </p><pre class="fragment">g++ myfoo.cpp `wx-config --cxxflags --libs` -o myfoo
</pre><p class="startli">Using this way, a make file for the minimal sample would look like this </p><pre class="fragment">CXX = g++

minimal: minimal.o
    $(CXX) -o minimal minimal.o `wx-config --libs`

minimal.o: minimal.cpp
    $(CXX) `wx-config --cxxflags` -c minimal.cpp -o minimal.o

clean:
    rm -f *.o minimal
</pre><p class="startli">If your application uses only some of wxWidgets libraries, you can specify required libraries when running wx-config. For example, <code>wx-config --libs=html,core</code> will only output link command to link with libraries required by core GUI classes and wxHTML classes. See the manual for more information on the libraries.</p>
</li>
<li>The other way creates a project within the source code directories of wxWidgets. For this endeavour, you'll need GNU autoconf version 2.14 and add an entry to your Makefile.in to the bottom of the configure.in script and run autoconf and configure before you can type make. </li>
</ol>
</div></div><!-- contents -->

<address class="footer">
	<small>
		Generated on Wed Jul 22 2020 19:22:39 for wxWidgets by <a href="http://www.doxygen.org/index.html" target="_new">Doxygen</a> 1.8.13
	</small>
</address>
<script src="wxwidgets.js" type="text/javascript"></script>
</div><!-- #page_container -->
</body>
</html>