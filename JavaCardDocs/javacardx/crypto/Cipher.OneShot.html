<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_72) on Wed Jun 03 02:25:47 PDT 2015 -->
<title>Cipher.OneShot (Java Card API, Classic Edition)</title>
<meta name="date" content="2015-06-03">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Cipher.OneShot (Java Card API, Classic Edition)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto"><span class="strong">Prev Class</span></a></li>
<li><a href="../../javacardx/crypto/KeyEncryption.html" title="interface in javacardx.crypto"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?javacardx/crypto/Cipher.OneShot.html" target="_top">Frames</a></li>
<li><a href="Cipher.OneShot.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_javacardx.crypto.Cipher">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_javacardx.crypto.Cipher">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">javacardx.crypto</div>
<h2 title="Class Cipher.OneShot" class="title">Class Cipher.OneShot</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">javacardx.crypto.Cipher</a></li>
<li>
<ul class="inheritance">
<li>javacardx.crypto.Cipher.OneShot</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></dd>
</dl>
<hr>
<br>
<pre>public static final class <span class="strong">Cipher.OneShot</span>
extends <a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></pre>
<div class="block">The <code>OneShot</code> class is a specialization of the <code>Cipher</code>
 class intended to support efficient one-shot ciphering and deciphering
 operations that may avoid persistent memory writes entirely. The
 <code>OneShot</code> class uses a delegation model where calls are delegated
 to an instance of a <code>Cipher</code>-implementing class configured for
 one-shot use.
 <p />
 Note:
 <ul>
 <li><em>Instances of </em><code>OneShot</code><em> are JCRE owned temporary
 Entry Point Object instances and references to these temporary objects
 cannot be stored in class variables or instance variables or array
 components. See Runtime Environment Specification, Java Card Platform,
 Classic Edition, section 6.2.1 for details.</em></li>
 <li><em>The platform must support at least one instance of
 </em><code>OneShot</code><em>. Support for several </em><code>OneShot</code><em>
 instances is platform dependent. To guarantee application code portability,
 acquiring/opening and then releasing/closing
 </em><code>OneShot</code><em> instances should be performed within tight
 <code>try-catch-finally</code> blocks (as illustrated in the code sample below)
 in order to avoid unnecessarily keeping hold of instances and to prevent
 interleaving invocations - hence enforcing the <b>One-Shot</b> usage
 pattern. Additionally, any local variable holding a reference to a
 </em><code>OneShot</code><em> instance should be set to <code>null</code> once the
 instance is closed in order to prevent further use attempts.</em></li>
 <li><em>Upon return from any <code>Applet</code> entry point method, back to the JCRE, and
 on tear or card reset events any <code>OneShot</code> instances in use are
 released back to the JCRE.</em>
 <li><em>The internal state associated with an instance of
 </em><code>OneShot</code><em> must be bound to the initial calling context
 (owner context) as to preclude use/calls on that instance from other
 contexts.</em></li>
 <li><em>Unless otherwise specified, after an instance of
 </em><code>OneShot</code><em> is released back to the JCRE, calls to any of the
 instance methods of the </em><code>OneShot</code><em> class results in an
 </em><code>CryptoException</code><em> being thrown with reason code
 </em><code>CryptoException.ILLEGAL_USE</code><em>.</em></li>
 </ul>
 <p>
 The following code shows a typical usage pattern for the
 <code>OneShot</code> class.
 <pre>
 ...
 Cipher.OneShot enc = null;
 try {
     enc = Cipher.OneShot.open(Cipher.CIPHER_RSA, Cipher.PAD_PKCS1);
     enc.init(someRSAKey, Cipher.MODE_ENCRYPT);
     enc.doFinal(someInData, (short) 0, (short) someInData.length, encData, (short) 0);
 } catch (CryptoException ce) {
     // Handle exception
 } finally {
     if (enc != null) {
         enc.close();
         enc = null;
     }
 }
 ...
 </pre></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.0.5</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_javacardx.crypto.Cipher">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;javacardx.crypto.<a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></h3>
<code><a href="../../javacardx/crypto/Cipher.OneShot.html" title="class in javacardx.crypto">Cipher.OneShot</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_javacardx.crypto.Cipher">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;javacardx.crypto.<a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></h3>
<code><a href="../../javacardx/crypto/Cipher.html#ALG_AES_BLOCK_128_CBC_NOPAD">ALG_AES_BLOCK_128_CBC_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_BLOCK_128_ECB_NOPAD">ALG_AES_BLOCK_128_ECB_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_BLOCK_192_CBC_NOPAD">ALG_AES_BLOCK_192_CBC_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_BLOCK_192_ECB_NOPAD">ALG_AES_BLOCK_192_ECB_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_BLOCK_256_CBC_NOPAD">ALG_AES_BLOCK_256_CBC_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_BLOCK_256_ECB_NOPAD">ALG_AES_BLOCK_256_ECB_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_CBC_ISO9797_M1">ALG_AES_CBC_ISO9797_M1</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_CBC_ISO9797_M2">ALG_AES_CBC_ISO9797_M2</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_CBC_PKCS5">ALG_AES_CBC_PKCS5</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_CTR">ALG_AES_CTR</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_ECB_ISO9797_M1">ALG_AES_ECB_ISO9797_M1</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_ECB_ISO9797_M2">ALG_AES_ECB_ISO9797_M2</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_AES_ECB_PKCS5">ALG_AES_ECB_PKCS5</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_DES_CBC_ISO9797_M1">ALG_DES_CBC_ISO9797_M1</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_DES_CBC_ISO9797_M2">ALG_DES_CBC_ISO9797_M2</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_DES_CBC_NOPAD">ALG_DES_CBC_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_DES_CBC_PKCS5">ALG_DES_CBC_PKCS5</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_DES_ECB_ISO9797_M1">ALG_DES_ECB_ISO9797_M1</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_DES_ECB_ISO9797_M2">ALG_DES_ECB_ISO9797_M2</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_DES_ECB_NOPAD">ALG_DES_ECB_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_DES_ECB_PKCS5">ALG_DES_ECB_PKCS5</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_KOREAN_SEED_CBC_NOPAD">ALG_KOREAN_SEED_CBC_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_KOREAN_SEED_ECB_NOPAD">ALG_KOREAN_SEED_ECB_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_RSA_ISO14888">ALG_RSA_ISO14888</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_RSA_ISO9796">ALG_RSA_ISO9796</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_RSA_NOPAD">ALG_RSA_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_RSA_PKCS1">ALG_RSA_PKCS1</a>, <a href="../../javacardx/crypto/Cipher.html#ALG_RSA_PKCS1_OAEP">ALG_RSA_PKCS1_OAEP</a>, <a href="../../javacardx/crypto/Cipher.html#CIPHER_AES_CBC">CIPHER_AES_CBC</a>, <a href="../../javacardx/crypto/Cipher.html#CIPHER_AES_ECB">CIPHER_AES_ECB</a>, <a href="../../javacardx/crypto/Cipher.html#CIPHER_DES_CBC">CIPHER_DES_CBC</a>, <a href="../../javacardx/crypto/Cipher.html#CIPHER_DES_ECB">CIPHER_DES_ECB</a>, <a href="../../javacardx/crypto/Cipher.html#CIPHER_KOREAN_SEED_CBC">CIPHER_KOREAN_SEED_CBC</a>, <a href="../../javacardx/crypto/Cipher.html#CIPHER_KOREAN_SEED_ECB">CIPHER_KOREAN_SEED_ECB</a>, <a href="../../javacardx/crypto/Cipher.html#CIPHER_RSA">CIPHER_RSA</a>, <a href="../../javacardx/crypto/Cipher.html#MODE_DECRYPT">MODE_DECRYPT</a>, <a href="../../javacardx/crypto/Cipher.html#MODE_ENCRYPT">MODE_ENCRYPT</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_ISO9796">PAD_ISO9796</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_ISO9796_MR">PAD_ISO9796_MR</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_ISO9797_1_M1_ALG3">PAD_ISO9797_1_M1_ALG3</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_ISO9797_1_M2_ALG3">PAD_ISO9797_1_M2_ALG3</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_ISO9797_M1">PAD_ISO9797_M1</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_ISO9797_M2">PAD_ISO9797_M2</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_NOPAD">PAD_NOPAD</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_NULL">PAD_NULL</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1">PAD_PKCS1</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_OAEP">PAD_PKCS1_OAEP</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_OAEP_SHA224">PAD_PKCS1_OAEP_SHA224</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_OAEP_SHA256">PAD_PKCS1_OAEP_SHA256</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_OAEP_SHA3_224">PAD_PKCS1_OAEP_SHA3_224</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_OAEP_SHA3_256">PAD_PKCS1_OAEP_SHA3_256</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_OAEP_SHA3_384">PAD_PKCS1_OAEP_SHA3_384</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_OAEP_SHA3_512">PAD_PKCS1_OAEP_SHA3_512</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_OAEP_SHA384">PAD_PKCS1_OAEP_SHA384</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_OAEP_SHA512">PAD_PKCS1_OAEP_SHA512</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS1_PSS">PAD_PKCS1_PSS</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_PKCS5">PAD_PKCS5</a>, <a href="../../javacardx/crypto/Cipher.html#PAD_RFC2409">PAD_RFC2409</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../javacardx/crypto/Cipher.OneShot.html#close()">close</a></strong>()</code>
<div class="block">Closes and releases this JCRE owned temporary instance of the <code>OneShot</code>
 object for reuse.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><strong><a href="../../javacardx/crypto/Cipher.OneShot.html#doFinal(byte[],%20short,%20short,%20byte[],%20short)">doFinal</a></strong>(byte[]&nbsp;inBuff,
       short&nbsp;inOffset,
       short&nbsp;inLength,
       byte[]&nbsp;outBuff,
       short&nbsp;outOffset)</code>
<div class="block">Generates encrypted/decrypted output from all/last input data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../javacardx/crypto/Cipher.OneShot.html#getAlgorithm()">getAlgorithm</a></strong>()</code>
<div class="block">Gets the Cipher algorithm.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../javacardx/crypto/Cipher.OneShot.html#getCipherAlgorithm()">getCipherAlgorithm</a></strong>()</code>
<div class="block">Gets the raw cipher algorithm.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../javacardx/crypto/Cipher.OneShot.html#getPaddingAlgorithm()">getPaddingAlgorithm</a></strong>()</code>
<div class="block">Gets the padding algorithm.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../javacardx/crypto/Cipher.OneShot.html#init(javacard.security.Key,%20byte)">init</a></strong>(<a href="../../javacard/security/Key.html" title="interface in javacard.security">Key</a>&nbsp;theKey,
    byte&nbsp;theMode)</code>
<div class="block">Initializes the <code>Cipher</code> object with the appropriate
 <code>Key</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../javacardx/crypto/Cipher.OneShot.html#init(javacard.security.Key,%20byte,%20byte[],%20short,%20short)">init</a></strong>(<a href="../../javacard/security/Key.html" title="interface in javacard.security">Key</a>&nbsp;theKey,
    byte&nbsp;theMode,
    byte[]&nbsp;bArray,
    short&nbsp;bOff,
    short&nbsp;bLen)</code>
<div class="block">Initializes the <code>Cipher</code> object with the appropriate Key and
 algorithm specific parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../javacardx/crypto/Cipher.OneShot.html" title="class in javacardx.crypto">Cipher.OneShot</a></code></td>
<td class="colLast"><code><strong><a href="../../javacardx/crypto/Cipher.OneShot.html#open(byte,%20byte)">open</a></strong>(byte&nbsp;cipherAlgorithm,
    byte&nbsp;paddingAlgorithm)</code>
<div class="block">Opens/acquires a JCRE owned temporary Entry Point Object instance of
 <code>OneShot</code> with the selected cipher algorithm and padding
 algorithm.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><strong><a href="../../javacardx/crypto/Cipher.OneShot.html#update(byte[],%20short,%20short,%20byte[],%20short)">update</a></strong>(byte[]&nbsp;inBuff,
      short&nbsp;inOffset,
      short&nbsp;inLength,
      byte[]&nbsp;outBuff,
      short&nbsp;outOffset)</code>
<div class="block">Always throws a <code>CryptoException</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_javacardx.crypto.Cipher">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javacardx.crypto.<a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></h3>
<code><a href="../../javacardx/crypto/Cipher.html#getInstance(byte,%20boolean)">getInstance</a>, <a href="../../javacardx/crypto/Cipher.html#getInstance(byte,%20byte,%20boolean)">getInstance</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../java/lang/Object.html#equals(java.lang.Object)">equals</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="open(byte, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public static final&nbsp;<a href="../../javacardx/crypto/Cipher.OneShot.html" title="class in javacardx.crypto">Cipher.OneShot</a>&nbsp;open(byte&nbsp;cipherAlgorithm,
                  byte&nbsp;paddingAlgorithm)
                                 throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Opens/acquires a JCRE owned temporary Entry Point Object instance of
 <code>OneShot</code> with the selected cipher algorithm and padding
 algorithm.
 <p>
 Note:
 <ul>
 <li><em>When the padding algorithm is built into the cipher algorithm use
 the <code>PAD_NULL</code> choice for the padding algorithm.</em>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cipherAlgorithm</code> - the desired cipher algorithm. Valid codes listed
 in <code>CIPHER_*</code> constants in this class.g.
 <a href="../../javacardx/crypto/Cipher.html#CIPHER_AES_CBC"><code>CIPHER_AES_CBC</code></a>.</dd><dd><code>paddingAlgorithm</code> - the desired padding algorithm. Valid codes listed
 in <code>PAD_*</code> constants in the Cipher class e.g.
 <a href="../../javacardx/crypto/Cipher.html#PAD_NULL"><code>PAD_NULL</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>OneShot</code> object instance of the requested
 algorithm.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
 <ul>
 <li><code>CryptoException.NO_SUCH_ALGORITHM</code> if the requested cipher
 algorithm or padding algorithm or their combination is not
 supported.</li>
 </ul></dd>
<dd><code><a href="../../javacard/framework/SystemException.html" title="class in javacard.framework">SystemException</a></code> - with the following reason
 codes:
 <ul>
 <li><code>SystemException.NO_RESOURCE</code> if sufficient resources are not
 available.</li>
 </ul></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes and releases this JCRE owned temporary instance of the <code>OneShot</code>
 object for reuse. If this method is called again this method does
 nothing.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd></dl>
</li>
</ul>
<a name="update(byte[], short, short, byte[], short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;short&nbsp;update(byte[]&nbsp;inBuff,
           short&nbsp;inOffset,
           short&nbsp;inLength,
           byte[]&nbsp;outBuff,
           short&nbsp;outOffset)
             throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Always throws a <code>CryptoException</code>. This method is not supported by
 <code>OneShot</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacardx/crypto/Cipher.html#update(byte[],%20short,%20short,%20byte[],%20short)">update</a></code>&nbsp;in class&nbsp;<code><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>inBuff</code> - the input buffer of data to be encrypted/decrypted</dd><dd><code>inOffset</code> - the offset into the input buffer at which to begin
 encryption/decryption</dd><dd><code>inLength</code> - the byte length to be encrypted/decrypted</dd><dd><code>outBuff</code> - the output buffer, may be the same as the input buffer</dd><dd><code>outOffset</code> - the offset into the output buffer where the resulting
 ciphertext/plaintext begins</dd>
<dt><span class="strong">Returns:</span></dt><dd>number of bytes output in <code>outBuff</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
 <ul>
 <li><code>CryptoException.ILLEGAL_USE</code> always.</li>
 </ul></dd></dl>
</li>
</ul>
<a name="init(javacard.security.Key, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="../../javacard/security/Key.html" title="interface in javacard.security">Key</a>&nbsp;theKey,
        byte&nbsp;theMode)
          throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Initializes the <code>Cipher</code> object with the appropriate
 <code>Key</code>. This method should be used for algorithms which do
 not need initialization parameters or use default parameter values.
 <p>
 <code>init()</code> must be used to update the <code>Cipher</code>
 object with a new key. If the <code>Key</code> object is modified after
 invoking the <code>init()</code> method, the behavior of the
 <code>update()</code> and <code>doFinal()</code> methods is
 unspecified.
 <p>
 The <code>Key</code> is checked for consistency with the <code>Cipher</code> algorithm.
 For example, the key type must be matched. 
 For elliptic curve algorithms, the key must represent a valid point on the 
 curve's domain parameters. Additional key component/domain parameter 
 strength checks are implementation specific. 
 <p>
 Note:
 <ul>
 <li><em>AES, DES, triple DES and Korean SEED algorithms in CBC mode will use 0 for initial vector(IV) if this
 method is used.</em>
 <li><em>For optimal performance, when the <code>theKey</code> parameter is a transient key,
 the implementation should, whenever possible, use transient space for internal storage.</em>
 </ul></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacardx/crypto/Cipher.html#init(javacard.security.Key,%20byte)">init</a></code>&nbsp;in class&nbsp;<code><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>theKey</code> - the key object to use for encrypting or decrypting</dd><dd><code>theMode</code> - one of <code>MODE_DECRYPT</code> or
            <code>MODE_ENCRYPT</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.ILLEGAL_VALUE</code> if
                <code>theMode</code> option is an undefined value or if
                the <code>Key</code> is inconsistent with the
                <code>Cipher</code> implementation.
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                <code>theKey</code> instance is uninitialized.
                </ul></dd></dl>
</li>
</ul>
<a name="init(javacard.security.Key, byte, byte[], short, short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="../../javacard/security/Key.html" title="interface in javacard.security">Key</a>&nbsp;theKey,
        byte&nbsp;theMode,
        byte[]&nbsp;bArray,
        short&nbsp;bOff,
        short&nbsp;bLen)
          throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Initializes the <code>Cipher</code> object with the appropriate Key and
 algorithm specific parameters.
 <p>
 <code>init()</code> must be used to update the <code>Cipher</code>
 object with a new key. If the <code>Key</code> object is modified after
 invoking the <code>init()</code> method, the behavior of the
 <code>update()</code> and <code>doFinal()</code> methods is
 unspecified.
 <p>
 The <code>Key</code> is checked for consistency with the <code>Cipher</code> algorithm.
 For example, the key type must be matched. 
 For elliptic curve algorithms, the key must represent a valid point on the 
 curve's domain parameters. Additional key component/domain parameter 
 strength checks are implementation specific. 
 <p>
 Note:
 <ul>
 <li><em>DES and triple DES algorithms in CBC mode expect an 8-byte parameter value for
 the initial vector(IV) in </em><code>bArray</code><em>.</em>
 <li><em>AES algorithms in CBC mode expect a 16-byte parameter value for
 the initial vector(IV) in </em><code>bArray</code><em>.</em>
 <li><em>Korean SEED algorithms in CBC mode expect a 16-byte parameter value for
 the initial vector(IV) in </em><code>bArray</code><em>.</em>
 <li><em>AES algorithms in ECB mode, DES algorithms in ECB mode, Korean SEED algorithm in ECB mode,
 RSA and DSA algorithms throw </em><code>CryptoException.ILLEGAL_VALUE</code><em>.</em>
 <li><em>For optimal performance, when the <code>theKey</code> parameter is a transient key,
 the implementation should, whenever possible, use transient space for internal storage.</em>
 </ul></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacardx/crypto/Cipher.html#init(javacard.security.Key,%20byte,%20byte[],%20short,%20short)">init</a></code>&nbsp;in class&nbsp;<code><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>theKey</code> - the key object to use for encrypting or decrypting.</dd><dd><code>theMode</code> - one of <code>MODE_DECRYPT</code> or
            <code>MODE_ENCRYPT</code></dd><dd><code>bArray</code> - byte array containing algorithm specific initialization info</dd><dd><code>bOff</code> - offset within bArray where the algorithm specific data begins</dd><dd><code>bLen</code> - byte length of algorithm specific parameter data</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.ILLEGAL_VALUE</code> if
                <code>theMode</code> option is an undefined value or if
                a byte array parameter option is not supported by the
                algorithm or if the <code>bLen</code> is an incorrect
                byte length for the algorithm specific data or if the
                <code>Key</code> is inconsistent with the
                <code>Cipher</code> implementation.
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                <code>theKey</code> instance is uninitialized.
                </ul></dd></dl>
</li>
</ul>
<a name="getAlgorithm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAlgorithm</h4>
<pre>public&nbsp;byte&nbsp;getAlgorithm()</pre>
<div class="block">Gets the Cipher algorithm.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacardx/crypto/Cipher.html#getAlgorithm()">getAlgorithm</a></code>&nbsp;in class&nbsp;<code><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the algorithm code defined above; if the algorithm is not one of the pre-defined
         algorithms, <code>0</code> is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../javacardx/crypto/Cipher.html#getInstance(byte,%20boolean)"><code>Cipher.getInstance(byte, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="getCipherAlgorithm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCipherAlgorithm</h4>
<pre>public&nbsp;byte&nbsp;getCipherAlgorithm()</pre>
<div class="block">Gets the raw cipher algorithm.
 Pre-defined codes listed in <code>CIPHER_*</code> constants in this class e.g.
 <a href="../../javacardx/crypto/Cipher.html#CIPHER_AES_CBC"><code>CIPHER_AES_CBC</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacardx/crypto/Cipher.html#getCipherAlgorithm()">getCipherAlgorithm</a></code>&nbsp;in class&nbsp;<code><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the raw cipher algorithm code defined above; if the algorithm is not
 one of the pre-defined algorithms, <code>0</code> is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd></dl>
</li>
</ul>
<a name="getPaddingAlgorithm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPaddingAlgorithm</h4>
<pre>public&nbsp;byte&nbsp;getPaddingAlgorithm()</pre>
<div class="block">Gets the padding algorithm. Pre-defined codes listed in <code>PAD_*</code>
 constants in this class e.g.
 <a href="../../javacardx/crypto/Cipher.html#PAD_NULL"><code>PAD_NULL</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacardx/crypto/Cipher.html#getPaddingAlgorithm()">getPaddingAlgorithm</a></code>&nbsp;in class&nbsp;<code><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the padding algorithm code defined in the <code>Cipher</code> class; if
 the algorithm is not one of the pre-defined algorithms, <code>0</code> is
 returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd></dl>
</li>
</ul>
<a name="doFinal(byte[], short, short, byte[], short)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>doFinal</h4>
<pre>public&nbsp;short&nbsp;doFinal(byte[]&nbsp;inBuff,
            short&nbsp;inOffset,
            short&nbsp;inLength,
            byte[]&nbsp;outBuff,
            short&nbsp;outOffset)
              throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Generates encrypted/decrypted output from all/last input data. This
 method must be invoked to complete a cipher operation. This method
 processes any remaining input data buffered by one or more calls to the
 <code>update()</code> method as well as input data supplied in the
 <code>inBuff</code> parameter.
 <p>
 A call to this method also resets this <code>Cipher</code> object to
 the state it was in when previously initialized via a call to
 <code>init()</code>. That is, the object is reset and available to
 encrypt or decrypt (depending on the operation mode that was specified in
 the call to <code>init()</code>) more data. In addition, note that the
 initial vector(IV) used in AES, DES and Korean SEED algorithms will be
 reset to 0.
 <p>
 Notes:
 <ul>
 <li><em>When using block-aligned data (multiple of block size),
 if the input buffer, </em><code>inBuff</code><em> and the output buffer,
 </em><code>outBuff</code><em>
 are the same array, then the output data area must not partially overlap the input data area such that
 the input data is modified before it is used;
 if </em><code>inBuff==outBuff</code><em> and<br> </em><code>inOffset < outOffset < inOffset+inLength</code><em>,
 incorrect output may result.</em>
 <li><em>When non-block aligned data is presented as input data, no amount of input
 and output buffer data overlap is allowed;
 if </em><code>inBuff==outBuff</code><em> and<br> </em><code>outOffset < inOffset+inLength</code><em>,
 incorrect output may result.</em>
 <li><em>AES, DES, triple DES and Korean SEED algorithms in CBC mode reset the initial vector(IV)
 to 0. The initial vector(IV) can be re-initialized using the
 </em><code>init(Key, byte, byte[], short, short)</code><em> method.</em>
 <li><em>On decryption operations (except when ISO 9797 method 1 padding is used),
 the padding bytes are not written to </em><code>outBuff</code><em>.</em>
 <li><em>On encryption and decryption operations, the number of bytes output into </em><code>outBuff</code><em>
 may be larger or smaller than </em><code>inLength</code><em> or even 0.</em>
 <li><em>On decryption operations resulting in an </em><code>ArrayIndexOutOfBoundsException</code><em>,
 </em><code>outBuff</code><em> may be partially modified.</em>
 </ul>
 <p />
 In addition to returning a <code>short</code> result, this method sets the
 result in an internal state which can be rechecked using assertion methods
 of the <a href="../../javacardx/security/SensitiveResult.html" title="class in javacardx.security"><code>SensitiveResult</code></a> class,
 if supported by the platform.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacardx/crypto/Cipher.html#doFinal(byte[],%20short,%20short,%20byte[],%20short)">doFinal</a></code>&nbsp;in class&nbsp;<code><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto">Cipher</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>inBuff</code> - the input buffer of data to be encrypted/decrypted</dd><dd><code>inOffset</code> - the offset into the input buffer at which to begin
            encryption/decryption</dd><dd><code>inLength</code> - the byte length to be encrypted/decrypted</dd><dd><code>outBuff</code> - the output buffer, may be the same as the input buffer</dd><dd><code>outOffset</code> - the offset into the output buffer where the resulting output
            data begins</dd>
<dt><span class="strong">Returns:</span></dt><dd>number of bytes output in <code>outBuff</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                key not initialized.
                <li><code>CryptoException.INVALID_INIT</code> if this
                <code>Cipher</code> object is not initialized.
                <li><code>CryptoException.ILLEGAL_USE</code> if one of
                the following conditions is met:
                <ul>
                <li>This <code>Cipher</code> algorithm does not pad the
                message and the message is not block aligned.
                <li>This <code>Cipher</code> algorithm does not pad the
                message and no input data has been provided in
                <code>inBuff</code> or via the <code>update()</code>
                method.
                <li>The input message length is not supported or the message value
                is greater than or equal to the modulus.
                <li>The decrypted data is not bounded by appropriate
                padding bytes.
                </ul>
                </ul></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../javacardx/crypto/Cipher.html" title="class in javacardx.crypto"><span class="strong">Prev Class</span></a></li>
<li><a href="../../javacardx/crypto/KeyEncryption.html" title="interface in javacardx.crypto"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?javacardx/crypto/Cipher.OneShot.html" target="_top">Frames</a></li>
<li><a href="Cipher.OneShot.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_javacardx.crypto.Cipher">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_javacardx.crypto.Cipher">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><a href="../../COPYRIGHT_jcspecs.html">Copyright</a> &copy; 1998, 2015, Oracle and/or its affiliates. All rights reserved.</small></p>
</body>
</html>
