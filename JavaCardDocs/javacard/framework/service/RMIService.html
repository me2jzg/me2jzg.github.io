<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_72) on Wed Jun 03 02:25:47 PDT 2015 -->
<title>RMIService (Java Card API, Classic Edition)</title>
<meta name="date" content="2015-06-03">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RMIService (Java Card API, Classic Edition)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javacard/framework/service/RemoteService.html" title="interface in javacard.framework.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javacard/framework/service/SecurityService.html" title="interface in javacard.framework.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javacard/framework/service/RMIService.html" target="_top">Frames</a></li>
<li><a href="RMIService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">javacard.framework.service</div>
<h2 title="Class RMIService" class="title">Class RMIService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../javacard/framework/service/BasicService.html" title="class in javacard.framework.service">javacard.framework.service.BasicService</a></li>
<li>
<ul class="inheritance">
<li>javacard.framework.service.RMIService</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../javacard/framework/service/RemoteService.html" title="interface in javacard.framework.service">RemoteService</a>, <a href="../../../javacard/framework/service/Service.html" title="interface in javacard.framework.service">Service</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">RMIService</span>
extends <a href="../../../javacard/framework/service/BasicService.html" title="class in javacard.framework.service">BasicService</a>
implements <a href="../../../javacard/framework/service/RemoteService.html" title="interface in javacard.framework.service">RemoteService</a></pre>
<div class="block">An implementation of a service that is used to process Java Card platform RMI
 requests for remotely accessible objects.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><strong><a href="../../../javacard/framework/service/RMIService.html#DEFAULT_RMI_INVOKE_INSTRUCTION">DEFAULT_RMI_INVOKE_INSTRUCTION</a></strong></code>
<div class="block">The default INS value (0x38) used for the remote method invocation
 command (INVOKE) in the Java Card platform RMI protocol.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../javacard/framework/service/RMIService.html#RMIService(java.rmi.Remote)">RMIService</a></strong>(<a href="../../../java/rmi/Remote.html" title="interface in java.rmi">Remote</a>&nbsp;initialObject)</code>
<div class="block">Creates a new <CODE>RMIService</CODE> and sets the specified remote
 object as the initial reference for the applet.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javacard/framework/service/RMIService.html#processCommand(javacard.framework.APDU)">processCommand</a></strong>(<a href="../../../javacard/framework/APDU.html" title="class in javacard.framework">APDU</a>&nbsp;apdu)</code>
<div class="block">Processes the command within the <CODE>APDU</CODE> object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javacard/framework/service/RMIService.html#setInvokeInstructionByte(byte)">setInvokeInstructionByte</a></strong>(byte&nbsp;ins)</code>
<div class="block">Defines the instruction byte to be used in place of
 <CODE>DEFAULT_RMI_INVOKE_INSTRUCTION</CODE> in the Java Card platform
 RMI protocol for the INVOKE commands used to access the
 <CODE>RMIService</CODE> for remote method invocations.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_javacard.framework.service.BasicService">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javacard.framework.service.<a href="../../../javacard/framework/service/BasicService.html" title="class in javacard.framework.service">BasicService</a></h3>
<code><a href="../../../javacard/framework/service/BasicService.html#fail(javacard.framework.APDU,%20short)">fail</a>, <a href="../../../javacard/framework/service/BasicService.html#getCLA(javacard.framework.APDU)">getCLA</a>, <a href="../../../javacard/framework/service/BasicService.html#getINS(javacard.framework.APDU)">getINS</a>, <a href="../../../javacard/framework/service/BasicService.html#getOutputLength(javacard.framework.APDU)">getOutputLength</a>, <a href="../../../javacard/framework/service/BasicService.html#getP1(javacard.framework.APDU)">getP1</a>, <a href="../../../javacard/framework/service/BasicService.html#getP2(javacard.framework.APDU)">getP2</a>, <a href="../../../javacard/framework/service/BasicService.html#getStatusWord(javacard.framework.APDU)">getStatusWord</a>, <a href="../../../javacard/framework/service/BasicService.html#isProcessed(javacard.framework.APDU)">isProcessed</a>, <a href="../../../javacard/framework/service/BasicService.html#processDataIn(javacard.framework.APDU)">processDataIn</a>, <a href="../../../javacard/framework/service/BasicService.html#processDataOut(javacard.framework.APDU)">processDataOut</a>, <a href="../../../javacard/framework/service/BasicService.html#receiveInData(javacard.framework.APDU)">receiveInData</a>, <a href="../../../javacard/framework/service/BasicService.html#selectingApplet()">selectingApplet</a>, <a href="../../../javacard/framework/service/BasicService.html#setOutputLength(javacard.framework.APDU,%20short)">setOutputLength</a>, <a href="../../../javacard/framework/service/BasicService.html#setProcessed(javacard.framework.APDU)">setProcessed</a>, <a href="../../../javacard/framework/service/BasicService.html#setStatusWord(javacard.framework.APDU,%20short)">setStatusWord</a>, <a href="../../../javacard/framework/service/BasicService.html#succeed(javacard.framework.APDU)">succeed</a>, <a href="../../../javacard/framework/service/BasicService.html#succeedWithStatusWord(javacard.framework.APDU,%20short)">succeedWithStatusWord</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../java/lang/Object.html#equals(java.lang.Object)">equals</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_javacard.framework.service.Service">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;javacard.framework.service.<a href="../../../javacard/framework/service/Service.html" title="interface in javacard.framework.service">Service</a></h3>
<code><a href="../../../javacard/framework/service/Service.html#processDataIn(javacard.framework.APDU)">processDataIn</a>, <a href="../../../javacard/framework/service/Service.html#processDataOut(javacard.framework.APDU)">processDataOut</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_RMI_INVOKE_INSTRUCTION">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_RMI_INVOKE_INSTRUCTION</h4>
<pre>public static final&nbsp;byte DEFAULT_RMI_INVOKE_INSTRUCTION</pre>
<div class="block">The default INS value (0x38) used for the remote method invocation
 command (INVOKE) in the Java Card platform RMI protocol.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#javacard.framework.service.RMIService.DEFAULT_RMI_INVOKE_INSTRUCTION">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RMIService(java.rmi.Remote)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RMIService</h4>
<pre>public&nbsp;RMIService(<a href="../../../java/rmi/Remote.html" title="interface in java.rmi">Remote</a>&nbsp;initialObject)
           throws <a href="../../../java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></pre>
<div class="block">Creates a new <CODE>RMIService</CODE> and sets the specified remote
 object as the initial reference for the applet. The initial reference
 will be published to the client in response to the SELECT APDU command
 processed by this object.
 <p>
 The <CODE>RMIService</CODE> instance may create session data to manage
 exported remote objects for the current applet session in
 <CODE>CLEAR_ON_DESELECT</CODE> transient space.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>initialObject</code> - the remotely accessible initial object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></code> - if the <CODE>initialObject</CODE> parameter is
             <code>null</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setInvokeInstructionByte(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInvokeInstructionByte</h4>
<pre>public&nbsp;void&nbsp;setInvokeInstructionByte(byte&nbsp;ins)</pre>
<div class="block">Defines the instruction byte to be used in place of
 <CODE>DEFAULT_RMI_INVOKE_INSTRUCTION</CODE> in the Java Card platform
 RMI protocol for the INVOKE commands used to access the
 <CODE>RMIService</CODE> for remote method invocations.
 <p>
 Note:
 <ul>
 <li><em>The new instruction byte goes into effect next time this <CODE>RMIService</CODE>
 instance processes an applet SELECT command. The Java Card platform RMI protocol until then
 is unchanged.</em>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ins</code> - the instruction byte</dd></dl>
</li>
</ul>
<a name="processCommand(javacard.framework.APDU)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>processCommand</h4>
<pre>public&nbsp;boolean&nbsp;processCommand(<a href="../../../javacard/framework/APDU.html" title="class in javacard.framework">APDU</a>&nbsp;apdu)</pre>
<div class="block">Processes the command within the <CODE>APDU</CODE> object. When
 invoked, the APDU object should either be in <CODE>STATE_INITIAL</CODE>
 with the APDU buffer in the Init format or in
 <CODE>STATE_FULL_INCOMING</CODE> with the APDU buffer in the Input
 Ready format defined in <CODE>BasicService</CODE>.
 <p>
 This method first checks if the command in the <CODE>APDU</CODE> object
 is a Java Card platform RMI access command. The Java Card platform RMI
 access commands currently defined are: Applet SELECT and INVOKE. If it is
 not a Java Card platform RMI access command, this method does nothing and
 returns false.
 <p>
 If the command is a Java Card platform RMI access command, this method
 processes the command and generates the response to be returned to the
 terminal. For a detailed description of the APDU protocol used in Java
 Card platform RMI access commands please see the Remote Method Invocation
 Service chapter of <em>Runtime Environment
 Specification, Java Card Platform, Classic Edition</em>.
 <p>
 Java Card platform RMI access commands are processed as follows:
 <ul>
 <li>An applet SELECT command results in a Java Card platform RMI
 information structure in FCI format containing the initial reference
 object as the response to be returned to the terminal.
 <li>An INVOKE command results in the following sequence -
 </ul>
 <ol>
 <li><em>The remote object is located. A remote object is accessible only if
 it was returned by this <CODE>RMIService</CODE> instance and since that time
 some applet instance or the other from within the applet package has been
 an active applet instance.</em>
 <li><em>The method of the object is identified</em>
 <li><em>Primitive input parameters are unmarshalled onto the stack. Array type
 input parameters are created as global arrays(See <em>Runtime Environment
 Specification, Java Card Platform, Classic Edition</em>)</em>
 and references to these are pushed onto the stack.
 <li><em>An INVOKEVIRTUAL bytecode to the remote method is simulated</em>
 <li>
 <em>Upon return from the method, method return or exception information
 is marshalled from the stack as the response to be returned to the
 terminal</em>
 </ol>
 <p>
 After normal completion, this method returns <CODE>true</CODE> and the
 APDU object is in <CODE>STATE_OUTGOING</CODE> and the output response
 is in the APDU buffer in the Output Ready format defined in
 <CODE>BasicService</CODE>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../javacard/framework/service/Service.html#processCommand(javacard.framework.APDU)">processCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../../javacard/framework/service/Service.html" title="interface in javacard.framework.service">Service</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../javacard/framework/service/BasicService.html#processCommand(javacard.framework.APDU)">processCommand</a></code>&nbsp;in class&nbsp;<code><a href="../../../javacard/framework/service/BasicService.html" title="class in javacard.framework.service">BasicService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>apdu</code> - the APDU object containing the command being processed.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the command has been processed,
         <CODE>false</CODE> otherwise</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../javacard/framework/service/ServiceException.html" title="class in javacard.framework.service">ServiceException</a></code> - with the following reason codes:
             <ul>
             <li><code>ServiceException.CANNOT_ACCESS_IN_COMMAND</code>
             if this is a Java Card platform RMI access command and the
             APDU object is not in STATE_INITIAL or in STATE_FULL_INCOMING
             <li><code>ServiceException.REMOTE_OBJECT_NOT_EXPORTED</code>
             if the remote method returned a remote object which has not
             been exported.
             </ul></dd>
<dd><code><a href="../../../javacard/framework/TransactionException.html" title="class in javacard.framework">TransactionException</a></code> - with the following reason code:
             <ul>
             <li><code>TransactionException.IN_PROGRESS</code> if this
             is a Java Card platform RMI INVOKE command and the remote
             method returned a remote object which has been exported
             within a transaction which is still in progress or if this is
             an applet SELECT command and the response information in the
             APDU buffer includes an initial reference object which has
             been exported within a transaction which is still in
             progress.
             </ul></dd>
<dd><code><a href="../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if one of the following conditions is met:
             <ul>
             <li> if this is a Java Card platform RMI INVOKE command and a
             firewall security violation occurred while trying to simulate
             an INVOKEVIRTUAL bytecode on the remote object.
             <li> if internal storage in <code>CLEAR_ON_DESELECT</code>
             transient space is accessed when the currently active context
             is not the context of the currently selected applet.
             <li> if this is a Java Card platform RMI INVOKE command and
             the invoked remote method returns an object or throws an
             exception object which is not accessible in the context of
             the currently selected applet.
             </ul></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../javacard/framework/service/CardRemoteObject.html" title="class in javacard.framework.service"><code>CardRemoteObject</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javacard/framework/service/RemoteService.html" title="interface in javacard.framework.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javacard/framework/service/SecurityService.html" title="interface in javacard.framework.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javacard/framework/service/RMIService.html" target="_top">Frames</a></li>
<li><a href="RMIService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><a href="../../../COPYRIGHT_jcspecs.html">Copyright</a> &copy; 1998, 2015, Oracle and/or its affiliates. All rights reserved.</small></p>
</body>
</html>
