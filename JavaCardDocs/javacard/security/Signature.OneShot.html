<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_72) on Wed Jun 03 02:25:47 PDT 2015 -->
<title>Signature.OneShot (Java Card API, Classic Edition)</title>
<meta name="date" content="2015-06-03">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Signature.OneShot (Java Card API, Classic Edition)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../javacard/security/Signature.html" title="class in javacard.security"><span class="strong">Prev Class</span></a></li>
<li><a href="../../javacard/security/SignatureMessageRecovery.html" title="interface in javacard.security"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?javacard/security/Signature.OneShot.html" target="_top">Frames</a></li>
<li><a href="Signature.OneShot.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_javacard.security.Signature">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_javacard.security.Signature">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">javacard.security</div>
<h2 title="Class Signature.OneShot" class="title">Class Signature.OneShot</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../javacard/security/Signature.html" title="class in javacard.security">javacard.security.Signature</a></li>
<li>
<ul class="inheritance">
<li>javacard.security.Signature.OneShot</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></dd>
</dl>
<hr>
<br>
<pre>public static final class <span class="strong">Signature.OneShot</span>
extends <a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></pre>
<div class="block">The <code>OneShot</code> class is a specialization of the
 <code>Signature</code> class intended to support efficient one-shot signing and
 verification operations that may avoid persistent memory writes entirely.
 The <code>OneShot</code> class uses a delegation model where calls are
 delegated to an instance of a <code>Signature</code>-implementing class
 configured for one-shot use.
 <p />
 Note:
 <ul>
 <li><em>Instances of </em><code>OneShot</code><em> are JCRE owned temporary
 Entry Point Object instances and references to these temporary objects
 cannot be stored in class variables or instance variables or array
 components. See Runtime Environment Specification, Java Card Platform,
 Classic Edition, section 6.2.1 for details.</em></li>
 <li><em>The platform must support at least one instance of
 </em><code>OneShot</code><em>. Support for several </em><code>OneShot</code><em>
 instances is platform dependent. To guarantee application code portability,
 acquiring/opening and then releasing/closing
 </em><code>OneShot</code><em> instances should be performed within tight
 <code>try-catch-finally</code> blocks (as illustrated in the code sample below)
 in order to avoid unnecessarily keeping hold of instances and to prevent
 interleaving invocations - hence enforcing the <b>One-Shot</b> usage
 pattern. Additionally, any local variable holding a reference to a
 </em><code>OneShot</code><em> instance should be set to <code>null</code> once the
 instance is closed in order to prevent further use attempts.</em></li>
 <li><em>Upon return from any <code>Applet</code> entry point method, back to the JCRE, and
 on tear or card reset events any <code>OneShot</code> instances in use are
 released back to the JCRE.</em>
 <li><em>The internal state associated with an instance of
 </em><code>OneShot</code><em> must be bound to the initial calling context
 (owner context) as to preclude use/calls on that instance from other
 contexts.</em></li>
 <li><em>Unless otherwise specified, after an instance of
 </em><code>OneShot</code><em> is released back to the JCRE, calls to any of the
 instance methods of the </em><code>OneShot</code><em> class results in an
 </em><code>CryptoException</code><em> being thrown with reason code
 </em><code>CryptoException.ILLEGAL_USE</code><em>.</em></li>
 </ul>
 <p>
 The following code shows a typical usage pattern for the
 <code>OneShot</code> class.
 <pre>
 ...
 Signature.OneShot sig = null;
 try {
     sig = Signature.OneShot.open(MessageDigest.ALG_SHA, Signature.SIG_CIPHER_RSA, Cipher.PAD_PKCS1);
     sig.init(someRSAKey, Signature.MODE_SIGN);
     sig.sign(someInData, (short) 0, (short) someInData.length, sigData, (short) 0);
 } catch (CryptoException ce) {
     // Handle exception
 } finally {
     if (sig != null) {
        sig.close();
        sig = null;
     }
 }
 ...
 </pre></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.0.5</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_javacard.security.Signature">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;javacard.security.<a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></h3>
<code><a href="../../javacard/security/Signature.OneShot.html" title="class in javacard.security">Signature.OneShot</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_javacard.security.Signature">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;javacard.security.<a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></h3>
<code><a href="../../javacard/security/Signature.html#ALG_AES_CMAC_128">ALG_AES_CMAC_128</a>, <a href="../../javacard/security/Signature.html#ALG_AES_MAC_128_NOPAD">ALG_AES_MAC_128_NOPAD</a>, <a href="../../javacard/security/Signature.html#ALG_AES_MAC_192_NOPAD">ALG_AES_MAC_192_NOPAD</a>, <a href="../../javacard/security/Signature.html#ALG_AES_MAC_256_NOPAD">ALG_AES_MAC_256_NOPAD</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC4_ISO9797_1_M1_ALG3">ALG_DES_MAC4_ISO9797_1_M1_ALG3</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC4_ISO9797_1_M2_ALG3">ALG_DES_MAC4_ISO9797_1_M2_ALG3</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC4_ISO9797_M1">ALG_DES_MAC4_ISO9797_M1</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC4_ISO9797_M2">ALG_DES_MAC4_ISO9797_M2</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC4_NOPAD">ALG_DES_MAC4_NOPAD</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC4_PKCS5">ALG_DES_MAC4_PKCS5</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC8_ISO9797_1_M1_ALG3">ALG_DES_MAC8_ISO9797_1_M1_ALG3</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC8_ISO9797_1_M2_ALG3">ALG_DES_MAC8_ISO9797_1_M2_ALG3</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC8_ISO9797_M1">ALG_DES_MAC8_ISO9797_M1</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC8_ISO9797_M2">ALG_DES_MAC8_ISO9797_M2</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC8_NOPAD">ALG_DES_MAC8_NOPAD</a>, <a href="../../javacard/security/Signature.html#ALG_DES_MAC8_PKCS5">ALG_DES_MAC8_PKCS5</a>, <a href="../../javacard/security/Signature.html#ALG_DSA_SHA">ALG_DSA_SHA</a>, <a href="../../javacard/security/Signature.html#ALG_ECDSA_SHA">ALG_ECDSA_SHA</a>, <a href="../../javacard/security/Signature.html#ALG_ECDSA_SHA_224">ALG_ECDSA_SHA_224</a>, <a href="../../javacard/security/Signature.html#ALG_ECDSA_SHA_256">ALG_ECDSA_SHA_256</a>, <a href="../../javacard/security/Signature.html#ALG_ECDSA_SHA_384">ALG_ECDSA_SHA_384</a>, <a href="../../javacard/security/Signature.html#ALG_ECDSA_SHA_512">ALG_ECDSA_SHA_512</a>, <a href="../../javacard/security/Signature.html#ALG_HMAC_MD5">ALG_HMAC_MD5</a>, <a href="../../javacard/security/Signature.html#ALG_HMAC_RIPEMD160">ALG_HMAC_RIPEMD160</a>, <a href="../../javacard/security/Signature.html#ALG_HMAC_SHA_256">ALG_HMAC_SHA_256</a>, <a href="../../javacard/security/Signature.html#ALG_HMAC_SHA_384">ALG_HMAC_SHA_384</a>, <a href="../../javacard/security/Signature.html#ALG_HMAC_SHA_512">ALG_HMAC_SHA_512</a>, <a href="../../javacard/security/Signature.html#ALG_HMAC_SHA1">ALG_HMAC_SHA1</a>, <a href="../../javacard/security/Signature.html#ALG_KOREAN_SEED_MAC_NOPAD">ALG_KOREAN_SEED_MAC_NOPAD</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_MD5_PKCS1">ALG_RSA_MD5_PKCS1</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_MD5_PKCS1_PSS">ALG_RSA_MD5_PKCS1_PSS</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_MD5_RFC2409">ALG_RSA_MD5_RFC2409</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_RIPEMD160_ISO9796">ALG_RSA_RIPEMD160_ISO9796</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_RIPEMD160_ISO9796_MR">ALG_RSA_RIPEMD160_ISO9796_MR</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_RIPEMD160_PKCS1">ALG_RSA_RIPEMD160_PKCS1</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_RIPEMD160_PKCS1_PSS">ALG_RSA_RIPEMD160_PKCS1_PSS</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_224_PKCS1">ALG_RSA_SHA_224_PKCS1</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_224_PKCS1_PSS">ALG_RSA_SHA_224_PKCS1_PSS</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_256_PKCS1">ALG_RSA_SHA_256_PKCS1</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_256_PKCS1_PSS">ALG_RSA_SHA_256_PKCS1_PSS</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_384_PKCS1">ALG_RSA_SHA_384_PKCS1</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_384_PKCS1_PSS">ALG_RSA_SHA_384_PKCS1_PSS</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_512_PKCS1">ALG_RSA_SHA_512_PKCS1</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_512_PKCS1_PSS">ALG_RSA_SHA_512_PKCS1_PSS</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_ISO9796">ALG_RSA_SHA_ISO9796</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_ISO9796_MR">ALG_RSA_SHA_ISO9796_MR</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_PKCS1">ALG_RSA_SHA_PKCS1</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_PKCS1_PSS">ALG_RSA_SHA_PKCS1_PSS</a>, <a href="../../javacard/security/Signature.html#ALG_RSA_SHA_RFC2409">ALG_RSA_SHA_RFC2409</a>, <a href="../../javacard/security/Signature.html#MODE_SIGN">MODE_SIGN</a>, <a href="../../javacard/security/Signature.html#MODE_VERIFY">MODE_VERIFY</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_AES_CMAC128">SIG_CIPHER_AES_CMAC128</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_AES_MAC128">SIG_CIPHER_AES_MAC128</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_DES_MAC4">SIG_CIPHER_DES_MAC4</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_DES_MAC8">SIG_CIPHER_DES_MAC8</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_DSA">SIG_CIPHER_DSA</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_ECDSA">SIG_CIPHER_ECDSA</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_ECDSA_PLAIN">SIG_CIPHER_ECDSA_PLAIN</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_HMAC">SIG_CIPHER_HMAC</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_KOREAN_SEED_MAC">SIG_CIPHER_KOREAN_SEED_MAC</a>, <a href="../../javacard/security/Signature.html#SIG_CIPHER_RSA">SIG_CIPHER_RSA</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#close()">close</a></strong>()</code>
<div class="block">Closes and releases this JCRE owned temporary instance of the <code>OneShot</code>
 object for reuse.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#getAlgorithm()">getAlgorithm</a></strong>()</code>
<div class="block">Gets the Signature algorithm.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#getCipherAlgorithm()">getCipherAlgorithm</a></strong>()</code>
<div class="block">Gets the cipher algorithm.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#getLength()">getLength</a></strong>()</code>
<div class="block">Returns the byte length of the signature data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#getMessageDigestAlgorithm()">getMessageDigestAlgorithm</a></strong>()</code>
<div class="block">Gets the message digest algorithm.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#getPaddingAlgorithm()">getPaddingAlgorithm</a></strong>()</code>
<div class="block">Gets the padding algorithm.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#init(javacard.security.Key,%20byte)">init</a></strong>(<a href="../../javacard/security/Key.html" title="interface in javacard.security">Key</a>&nbsp;theKey,
    byte&nbsp;theMode)</code>
<div class="block">Initializes the <code>Signature</code> object with the appropriate
 <code>Key</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#init(javacard.security.Key,%20byte,%20byte[],%20short,%20short)">init</a></strong>(<a href="../../javacard/security/Key.html" title="interface in javacard.security">Key</a>&nbsp;theKey,
    byte&nbsp;theMode,
    byte[]&nbsp;bArray,
    short&nbsp;bOff,
    short&nbsp;bLen)</code>
<div class="block">Initializes the <code>Signature</code> object with the appropriate
 <code>Key</code> and algorithm specific parameters.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../javacard/security/Signature.OneShot.html" title="class in javacard.security">Signature.OneShot</a></code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#open(byte,%20byte,%20byte)">open</a></strong>(byte&nbsp;messageDigestAlgorithm,
    byte&nbsp;cipherAlgorithm,
    byte&nbsp;paddingAlgorithm)</code>
<div class="block">Opens/acquires a JCRE owned temporary Entry Point Object instance of
 <code>OneShot</code> with the selected message digest algorithm, cipher
 algorithm and padding algorithm.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#setInitialDigest(byte[],%20short,%20short,%20byte[],%20short,%20short)">setInitialDigest</a></strong>(byte[]&nbsp;initialDigestBuf,
                short&nbsp;initialDigestOffset,
                short&nbsp;initialDigestLength,
                byte[]&nbsp;digestedMsgLenBuf,
                short&nbsp;digestedMsgLenOffset,
                short&nbsp;digestedMsgLenLength)</code>
<div class="block">This method initializes the starting hash value in place of the default
 value used by the <code>Signature</code> class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#sign(byte[],%20short,%20short,%20byte[],%20short)">sign</a></strong>(byte[]&nbsp;inBuff,
    short&nbsp;inOffset,
    short&nbsp;inLength,
    byte[]&nbsp;sigBuff,
    short&nbsp;sigOffset)</code>
<div class="block">Generates the signature of all/last input data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#signPreComputedHash(byte[],%20short,%20short,%20byte[],%20short)">signPreComputedHash</a></strong>(byte[]&nbsp;hashBuff,
                   short&nbsp;hashOff,
                   short&nbsp;hashLength,
                   byte[]&nbsp;sigBuff,
                   short&nbsp;sigOffset)</code>
<div class="block">Generates the signature of the precomputed hash data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#update(byte[],%20short,%20short)">update</a></strong>(byte[]&nbsp;inBuff,
      short&nbsp;inOffset,
      short&nbsp;inLength)</code>
<div class="block">Always throws a <code>CryptoException</code>.This method is not supported by
 <code>OneShot</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#verify(byte[],%20short,%20short,%20byte[],%20short,%20short)">verify</a></strong>(byte[]&nbsp;inBuff,
      short&nbsp;inOffset,
      short&nbsp;inLength,
      byte[]&nbsp;sigBuff,
      short&nbsp;sigOffset,
      short&nbsp;sigLength)</code>
<div class="block">Verifies the signature of all/last input data against the passed in
 signature.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../javacard/security/Signature.OneShot.html#verifyPreComputedHash(byte[],%20short,%20short,%20byte[],%20short,%20short)">verifyPreComputedHash</a></strong>(byte[]&nbsp;hashBuff,
                     short&nbsp;hashOff,
                     short&nbsp;hashLength,
                     byte[]&nbsp;sigBuff,
                     short&nbsp;sigOffset,
                     short&nbsp;sigLength)</code>
<div class="block">Verifies the signature of precomputed hash data.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_javacard.security.Signature">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javacard.security.<a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></h3>
<code><a href="../../javacard/security/Signature.html#getInstance(byte,%20boolean)">getInstance</a>, <a href="../../javacard/security/Signature.html#getInstance(byte,%20byte,%20byte,%20boolean)">getInstance</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../java/lang/Object.html#equals(java.lang.Object)">equals</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="open(byte, byte, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public static final&nbsp;<a href="../../javacard/security/Signature.OneShot.html" title="class in javacard.security">Signature.OneShot</a>&nbsp;open(byte&nbsp;messageDigestAlgorithm,
                     byte&nbsp;cipherAlgorithm,
                     byte&nbsp;paddingAlgorithm)
                                    throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Opens/acquires a JCRE owned temporary Entry Point Object instance of
 <code>OneShot</code> with the selected message digest algorithm, cipher
 algorithm and padding algorithm.
 <p>
 Note:
 <ul>
 <li><em>Note that the cipher algorithms listed in the Signature class
 include some choices not available directly as a Cipher - e.g
 <code>DSA</code>.</em>
 <li><em>When there is no discrete message digest algorithm, use the
 <code>MessageDigest.ALG_NULL</code> choice for the message digest
 algorithm.</em>
 <li><em>When the padding algorithm is built into the cipher algorithm use
 the <code>PAD_NULL</code> choice for the padding algorithm.</em>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>messageDigestAlgorithm</code> - the desired message digest algorithm. Valid
 codes listed in <code>ALG_*</code> constants in the MessageDigest class e.g.
 <a href="../../javacard/security/MessageDigest.html#ALG_NULL"><code>ALG_NULL</code></a>.</dd><dd><code>cipherAlgorithm</code> - the desired cipher algorithm. Valid codes listed
 in <code>SIG_CIPHER_*</code> constants in the Signature class e.g.
 <a href="../../javacard/security/Signature.html#SIG_CIPHER_DES_MAC4"><code>Signature.SIG_CIPHER_DES_MAC4</code></a>.</dd><dd><code>paddingAlgorithm</code> - the desired padding algorithm. Valid codes listed
 in <code>PAD_*</code> constants in the Cipher class e.g.
 <a href="../../javacardx/crypto/Cipher.html#PAD_NULL"><code>PAD_NULL</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>OneShot</code> object instance of the requested
 algorithm.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
 <ul>
 <li><code>CryptoException.NO_SUCH_ALGORITHM</code> if the requested message
 digest algorithm or cipher algorithm or padding algorithm or their
 combination is not supported.</li>
 </ul></dd>
<dd><code><a href="../../javacard/framework/SystemException.html" title="class in javacard.framework">SystemException</a></code> - with the following reason
 codes:
 <ul>
 <li><code>SystemException.NO_RESOURCE</code> if sufficient resources are not
 available.</li>
 </ul></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes and releases this JCRE owned temporary instance of the <code>OneShot</code>
 object for reuse. If this method is called again this method does
 nothing.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd></dl>
</li>
</ul>
<a name="update(byte[], short, short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public final&nbsp;void&nbsp;update(byte[]&nbsp;inBuff,
          short&nbsp;inOffset,
          short&nbsp;inLength)
                  throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Always throws a <code>CryptoException</code>.This method is not supported by
 <code>OneShot</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#update(byte[],%20short,%20short)">update</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>inBuff</code> - the input buffer of data to be signed/verified.</dd><dd><code>inOffset</code> - the offset into the input buffer where input data begins.</dd><dd><code>inLength</code> - the byte length to sign/verify.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
 <ul>
 <li><code>CryptoException.ILLEGAL_USE</code> always.</li>
 </ul></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../javacard/security/Signature.html#sign(byte[],%20short,%20short,%20byte[],%20short)"><code>sign(byte[], short,
      short, byte[], short)</code></a>, 
<a href="../../javacard/security/Signature.html#verify(byte[],%20short,%20short,%20byte[],%20short,%20short)"><code>verify(byte[],
      short, short, byte[], short, short)</code></a></dd></dl>
</li>
</ul>
<a name="init(javacard.security.Key, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="../../javacard/security/Key.html" title="interface in javacard.security">Key</a>&nbsp;theKey,
        byte&nbsp;theMode)
          throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Initializes the <code>Signature</code> object with the appropriate
 <code>Key</code>. This method should be used for algorithms which do
 not need initialization parameters or use default parameter values.
 <p>
 <code>init()</code> must be used to update the <code>Signature</code>
 object with a new key. If the <code>Key</code> object is modified after
 invoking the <code>init()</code> method, the behavior of the
 <code>update()</code>, <code>sign()</code>, and
 <code>verify()</code> methods is unspecified.
 <p>
 The <code>Key</code> is checked for consistency with the <code>Signature</code>
 algorithm. For example, the key type must be matched. 
 For elliptic curve algorithms, the key must represent a valid point on the 
 curve's domain parameters. Additional key component/domain parameter 
 strength checks are implementation specific. 
 <p>
 Note:
 <ul>
 <li><em>AES, DES, triple DES, and Korean SEED algorithms in CBC mode will use 0 for initial vector(IV) if this
 method is used.</em>
 <li><em>RSA algorithms using the padding scheme PKCS1_PSS will use a default salt length equal
 to the length of the message digest.</em>
 <li><em>For optimal performance, when the <code>theKey</code> parameter is a transient key,
 the implementation should, whenever possible, use transient space for internal storage.</em>
 </ul></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#init(javacard.security.Key,%20byte)">init</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>theKey</code> - the key object to use for signing or verifying</dd><dd><code>theMode</code> - one of <code>MODE_SIGN</code> or <code>MODE_VERIFY</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.ILLEGAL_VALUE</code> if
                <code>theMode</code> option is an undefined value or if
                the <code>Key</code> is inconsistent with
                <code>theMode</code> or with the <code>Signature</code>
                implementation.
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                <code>theKey</code> instance is uninitialized.
                </ul></dd></dl>
</li>
</ul>
<a name="init(javacard.security.Key, byte, byte[], short, short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="../../javacard/security/Key.html" title="interface in javacard.security">Key</a>&nbsp;theKey,
        byte&nbsp;theMode,
        byte[]&nbsp;bArray,
        short&nbsp;bOff,
        short&nbsp;bLen)
          throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Initializes the <code>Signature</code> object with the appropriate
 <code>Key</code> and algorithm specific parameters.
 <p>
 <code>init()</code> must be used to update the <code>Signature</code>
 object with a new key. If the <code>Key</code> object is modified after
 invoking the <code>init()</code> method, the behavior of the
 <code>update()</code>, <code>sign()</code>, and
 <code>verify()</code> methods is unspecified.
 <p>
 The <code>Key</code> is checked for consistency with the <code>Signature</code>
 algorithm. For example, the key type must be matched. 
 For elliptic curve algorithms, the key must represent a valid point on the 
 curve's domain parameters. Additional key component/domain parameter 
 strength checks are implementation specific. 
 <p>
 Note:
 <ul>
 <li><em>DES and triple DES algorithms in CBC mode expect an 8-byte parameter value for
 the initial vector(IV) in </em><code>bArray</code><em>.</em>
 <li><em>AES algorithms, except for ALG_AES_CMAC_128, in CBC mode expect a 16-byte parameter value for
 the initial vector(IV) in </em><code>bArray</code><em>.</em>
 <li><em>Korean SEED algorithms in CBC mode expect a 16-byte parameter value for
 the initial vector(IV) in </em><code>bArray</code><em>.</em>
 <li><em>ECDSA, DSA and HMAC algorithms throw </em><code>CryptoException.ILLEGAL_VALUE</code><em>.
 For RSA algorithms using the padding scheme PKCS1_PSS expect a two-byte parameter value (b1 b2)
 for the salt length in </em><code>bArray</code><em>. This two-byte parameter represents a short value
 where b1 is the first byte (high order byte) and b2 is the second byte (low order byte).
 For all other RSA algorithms CryptoException.ILLEGAL_VALUE is thrown.</em>
 <li><em>For optimal performance, when the <code>theKey</code> parameter is a transient key,
 the implementation should, whenever possible, use transient space for internal storage.</em>
 </ul></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#init(javacard.security.Key,%20byte,%20byte[],%20short,%20short)">init</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>theKey</code> - the key object to use for signing</dd><dd><code>theMode</code> - one of <code>MODE_SIGN</code> or <code>MODE_VERIFY</code></dd><dd><code>bArray</code> - byte array containing algorithm specific initialization
            information</dd><dd><code>bOff</code> - offset within <code>bArray</code> where the algorithm
            specific data begins</dd><dd><code>bLen</code> - byte length of algorithm specific parameter data</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.ILLEGAL_VALUE</code> if
                <code>theMode</code> option is an undefined value or if
                a byte array parameter option is not supported by the
                algorithm or if the <code>bLen</code> is an incorrect
                byte length for the algorithm specific data or if the
                <code>Key</code> is inconsistent with
                <code>theMode</code> or with the <code>Signature</code>
                implementation.
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                <code>theKey</code> instance is uninitialized.
                </ul></dd></dl>
</li>
</ul>
<a name="setInitialDigest(byte[], short, short, byte[], short, short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInitialDigest</h4>
<pre>public&nbsp;void&nbsp;setInitialDigest(byte[]&nbsp;initialDigestBuf,
                    short&nbsp;initialDigestOffset,
                    short&nbsp;initialDigestLength,
                    byte[]&nbsp;digestedMsgLenBuf,
                    short&nbsp;digestedMsgLenOffset,
                    short&nbsp;digestedMsgLenLength)
                      throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">This method initializes the starting hash value in place of the default
 value used by the <code>Signature</code> class. The starting
 hash value represents the previously computed hash (using the same
 algorithm) of the first part of the message. The remaining bytes of the
 message must be presented to this <code>Signature</code>
 object via the <code>update</code> and <code>sign</code> or
 <code>verify</code> methods
 to generate or verify the signature.
 <p>
 Note:
 <ul>
 <li><em>The maximum allowed value of the byte length of the first part of the message is
 algorithm specific</em>
 <li><em>This method throws an exception if the underlying signature algorithm
 does not compute a distinct message digest value prior to applying
 cryptographic primitives. These algorithms throw exception -
 DES, triple DES, AES, HMAC and KOREAN SEED.</em>
 </ul></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#setInitialDigest(byte[],%20short,%20short,%20byte[],%20short,%20short)">setInitialDigest</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>initialDigestBuf</code> - input buffer containing the starting hash value representing
            the previously computed hash (using the same algorithm) of
            first part of the message</dd><dd><code>initialDigestOffset</code> - offset into <code>initialDigestBuf</code> array where the
            starting digest value data begins</dd><dd><code>initialDigestLength</code> - the length of data in <code>initialDigestBuf</code> array.</dd><dd><code>digestedMsgLenBuf</code> - the byte array containing the number of bytes in the first
            part of the message that has previously been hashed to obtain
            the specified starting digest value</dd><dd><code>digestedMsgLenOffset</code> - the offset within <CODE>digestedMsgLenBuf</CODE> where the
            digested length begins(the bytes starting at this offset for
            <CODE>digestedMsgLenLength</CODE> bytes are concatenated to
            form the actual digested message length value)</dd><dd><code>digestedMsgLenLength</code> - byte length of the digested length</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.ILLEGAL_VALUE</code> if the
                parameter <code>initialDigestLength</code> is not equal
                to the intermediate hash value size of the algorithm
                or if the number of bytes
                in the first part of the message that has previously been
                hashed is 0 or not a multiple of the algorithm's block
                size or greater than the maximum length supported by the
                algorithm (see <CODE>ALG_*</CODE> algorithm descriptions
                <a href="../../javacard/security/MessageDigest.html#ALG_SHA"><code>MessageDigest.ALG_SHA</code></a>).
                <li><code>CryptoException.ILLEGAL_USE</code> if the
                Signature algorithm does not compute a distinct message
                digest value prior to applying cryptographic primitives or
                if this <code>Signature</code> algorithm includes message
                recovery functionality.
                </ul></dd></dl>
</li>
</ul>
<a name="getAlgorithm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAlgorithm</h4>
<pre>public&nbsp;byte&nbsp;getAlgorithm()</pre>
<div class="block">Gets the Signature algorithm. Pre-defined codes listed in <code>ALG_*</code>
 constants above, for example, <a href="../../javacard/security/Signature.html#ALG_DES_MAC4_NOPAD"><code>Signature.ALG_DES_MAC4_NOPAD</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#getAlgorithm()">getAlgorithm</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the algorithm code defined above; if the algorithm is not one of the pre-defined
         algorithms, <code>0</code> is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd></dl>
</li>
</ul>
<a name="getMessageDigestAlgorithm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageDigestAlgorithm</h4>
<pre>public&nbsp;byte&nbsp;getMessageDigestAlgorithm()</pre>
<div class="block">Gets the message digest algorithm. Pre-defined codes listed in
 <code>ALG_*</code> constants in the MessageDigest class e.g.
 <a href="../../javacard/security/MessageDigest.html#ALG_NULL"><code>ALG_NULL</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#getMessageDigestAlgorithm()">getMessageDigestAlgorithm</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the message digest algorithm code defined in the
 <code>MessageDigest</code> class; if the algorithm is not one of the pre-defined
 algorithms, <code>0</code> is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd></dl>
</li>
</ul>
<a name="getCipherAlgorithm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCipherAlgorithm</h4>
<pre>public&nbsp;byte&nbsp;getCipherAlgorithm()</pre>
<div class="block">Gets the cipher algorithm. Pre-defined codes listed in <code>SIG_CIPHER_*</code>
 constants in this class e.g.
 <a href="../../javacard/security/Signature.html#SIG_CIPHER_DES_MAC4"><code>SIG_CIPHER_DES_MAC4</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#getCipherAlgorithm()">getCipherAlgorithm</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the cipher algorithm code defined above; if the algorithm is not
 one of the pre-defined algorithms, <code>0</code> is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd></dl>
</li>
</ul>
<a name="getPaddingAlgorithm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPaddingAlgorithm</h4>
<pre>public&nbsp;byte&nbsp;getPaddingAlgorithm()</pre>
<div class="block">Gets the padding algorithm. Pre-defined codes listed in <code>PAD_*</code>
 constants in the <code>Cipher</code> class e.g.
 <a href="../../javacardx/crypto/Cipher.html#PAD_NULL"><code>PAD_NULL</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#getPaddingAlgorithm()">getPaddingAlgorithm</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the padding algorithm code defined in the <code>Cipher</code> class; if
 the algorithm is not one of the pre-defined algorithms, <code>0</code> is
 returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd></dl>
</li>
</ul>
<a name="getLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLength</h4>
<pre>public&nbsp;short&nbsp;getLength()
                throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Returns the byte length of the signature data.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#getLength()">getLength</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the byte length of the signature data</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.INVALID_INIT</code> if this
                <code>Signature</code> object is not initialized.
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                key not initialized.
                </ul></dd></dl>
</li>
</ul>
<a name="sign(byte[], short, short, byte[], short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sign</h4>
<pre>public&nbsp;short&nbsp;sign(byte[]&nbsp;inBuff,
         short&nbsp;inOffset,
         short&nbsp;inLength,
         byte[]&nbsp;sigBuff,
         short&nbsp;sigOffset)
           throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Generates the signature of all/last input data.
 <p>
 A call to this method also resets this <code>Signature</code> object to
 the state it was in when previously initialized via a call to
 <code>init()</code>. That is, the object is reset and available to
 sign another message. In addition, note that the initial vector(IV) used
 in AES, DES and Korean SEED algorithms in CBC mode will be reset to 0.
 <p>
 Note:
 <ul>
 <li><em>AES, DES, triple DES, and Korean SEED algorithms in CBC mode reset the initial vector(IV)
 to 0. The initial vector(IV) can be re-initialized using the
 </em><code>init(Key, byte, byte[], short, short)</code><em> method.</em>
 </ul>
 <p>
 The input and output buffer data may overlap.
 <p />
 In addition to returning a <code>short</code> result, this method sets the
 result in an internal state which can be rechecked using assertion methods
 of the <a href="../../javacardx/security/SensitiveResult.html" title="class in javacardx.security"><code>SensitiveResult</code></a> class,
 if supported by the platform.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#sign(byte[],%20short,%20short,%20byte[],%20short)">sign</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>inBuff</code> - the input buffer of data to be signed</dd><dd><code>inOffset</code> - the offset into the input buffer at which to begin signature
            generation</dd><dd><code>inLength</code> - the byte length to sign</dd><dd><code>sigBuff</code> - the output buffer to store signature data</dd><dd><code>sigOffset</code> - the offset into sigBuff at which to begin signature data</dd>
<dt><span class="strong">Returns:</span></dt><dd>number of bytes of signature output in sigBuff</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                key not initialized.
                <li><code>CryptoException.INVALID_INIT</code> if this
                <code>Signature</code> object is not initialized or
                initialized for signature verify mode.
                <li><code>CryptoException.ILLEGAL_USE</code> if one of
                the following conditions is met:
                <ul>
                <li>if this <code>Signature</code> algorithm does not
                pad the message and the message is not block aligned.
                <li>if this <code>Signature</code> algorithm does not
                pad the message and no input data has been provided in
                <code>inBuff</code> or via the <code>update()</code>
                method.
                <li>if the message value is not supported by the
                <code>Signature</code> algorithm
                or if a message value consistency check failed.
                <li>if this <code>Signature</code> algorithm includes
                message recovery functionality.
                </ul>
                </ul></dd></dl>
</li>
</ul>
<a name="signPreComputedHash(byte[], short, short, byte[], short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>signPreComputedHash</h4>
<pre>public&nbsp;short&nbsp;signPreComputedHash(byte[]&nbsp;hashBuff,
                        short&nbsp;hashOff,
                        short&nbsp;hashLength,
                        byte[]&nbsp;sigBuff,
                        short&nbsp;sigOffset)
                          throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Generates the signature of the precomputed hash data.
 <p>
 A call to this method also resets this <code>Signature</code> object to
 the state it was in when previously initialized via a call to
 <code>init()</code>. That is, the object is reset and available to
 sign another precomputed hash.
 <p>
 Note:
 <ul>
 <li><em>This method throws an exception if the underlying signature algorithm
 does not compute a distinct message digest value prior to applying
 cryptographic primitives. These algorithms throw exception -
 DES, triple DES, AES, HMAC and KOREAN SEED.</em>
 <li><em>Any data previously accumulated from previous
 calls to the <code>update</code> method are discarded.</em>
 </ul>
 <p>
 The hash and output buffer data may overlap.
 <p />
 In addition to returning a <code>short</code> result, this method sets the
 result in an internal state which can be rechecked using assertion methods
 of the <a href="../../javacardx/security/SensitiveResult.html" title="class in javacardx.security"><code>SensitiveResult</code></a> class,
 if supported by the platform.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#signPreComputedHash(byte[],%20short,%20short,%20byte[],%20short)">signPreComputedHash</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>hashBuff</code> - the input buffer of precomputed hash to be signed</dd><dd><code>hashOff</code> - the offset into the buffer where the hash begins</dd><dd><code>hashLength</code> - the byte length of the hash</dd><dd><code>sigBuff</code> - the output buffer to store signature data</dd><dd><code>sigOffset</code> - the offset into sigBuff at which to begin signature data</dd>
<dt><span class="strong">Returns:</span></dt><dd>number of bytes of signature output in sigBuff</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                key not initialized.
                <li><code>CryptoException.INVALID_INIT</code> if this
                <code>Signature</code> object is not initialized or
                initialized for signature verify mode.
                <li><code>CryptoException.ILLEGAL_USE</code> if one of
                the following conditions is met:
                <ul>
                <li>if the <code>hashLength</code> value is not equal
                to the length of the algorithm's message digest length.
                <li>if this <code>Signature</code> algorithm includes
                message recovery functionality.
                <li>if the
                Signature algorithm does not compute a distinct message
                digest value prior to applying cryptographic primitives
                </ul>
                </ul></dd></dl>
</li>
</ul>
<a name="verify(byte[], short, short, byte[], short, short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verify</h4>
<pre>public&nbsp;boolean&nbsp;verify(byte[]&nbsp;inBuff,
             short&nbsp;inOffset,
             short&nbsp;inLength,
             byte[]&nbsp;sigBuff,
             short&nbsp;sigOffset,
             short&nbsp;sigLength)
               throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Verifies the signature of all/last input data against the passed in
 signature.
 A call to this method also resets this <code>Signature</code> object to
 the state it was in when previously initialized via a call to
 <code>init()</code>. That is, the object is reset and available to
 verify another message. In addition, note that the initial vector(IV)
 used in AES, DES and Korean SEED algorithms in CBC mode will be reset to 0.
 <p>
 Note:
 <ul>
 <li><em>AES, DES, triple DES, and Korean SEED algorithms in CBC mode reset the initial vector(IV)
 to 0. The initial vector(IV) can be re-initialized using the
 </em><code>init(Key, byte, byte[], short, short)</code><em> method.</em>
 </ul>
 <p />
 In addition to returning a <code>boolean</code> result, this method sets the
 result in an internal state which can be rechecked using assertion methods
 of the <a href="../../javacardx/security/SensitiveResult.html" title="class in javacardx.security"><code>SensitiveResult</code></a> class,
 if supported by the platform.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#verify(byte[],%20short,%20short,%20byte[],%20short,%20short)">verify</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>inBuff</code> - the input buffer of data to be verified</dd><dd><code>inOffset</code> - the offset into the input buffer at which to begin signature
            generation</dd><dd><code>inLength</code> - the byte length to sign</dd><dd><code>sigBuff</code> - the input buffer containing signature data</dd><dd><code>sigOffset</code> - the offset into <code>sigBuff</code> where signature data
            begins</dd><dd><code>sigLength</code> - the byte length of the signature data</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the signature verifies, <code>false</code>
         otherwise. Note, if <code>sigLength</code> is inconsistent with
         this <code>Signature</code> algorithm, <code>false</code> is
         returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                key not initialized.
                <li><code>CryptoException.INVALID_INIT</code> if this
                <code>Signature</code> object is not initialized or
                initialized for signature sign mode.
                <li><code>CryptoException.ILLEGAL_USE</code> if one of
                the following conditions is met:
                <ul>
                <li>if this <code>Signature</code> algorithm does not
                pad the message and the message is not block aligned.
                <li>if this <code>Signature</code> algorithm does not
                pad the message and no input data has been provided in
                <code>inBuff</code> or via the <code>update()</code>
                method.
                <li>if the message value is not supported by the
                <code>Signature</code> algorithm
                or if a message value consistency check failed.
                <li>if this <code>Signature</code> algorithm includes
                message recovery functionality.
                </ul>
                </ul></dd></dl>
</li>
</ul>
<a name="verifyPreComputedHash(byte[], short, short, byte[], short, short)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>verifyPreComputedHash</h4>
<pre>public&nbsp;boolean&nbsp;verifyPreComputedHash(byte[]&nbsp;hashBuff,
                            short&nbsp;hashOff,
                            short&nbsp;hashLength,
                            byte[]&nbsp;sigBuff,
                            short&nbsp;sigOffset,
                            short&nbsp;sigLength)
                              throws <a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></pre>
<div class="block">Verifies the signature of precomputed hash data.
 <p>
 A call to this method also resets this <code>Signature</code> object to
 the state it was in when previously initialized via a call to
 <code>init()</code>. That is, the object is reset and available to
 verify another precomputed hash. In addition, note that the initial vector(IV)
 used in AES, DES and Korean SEED algorithms in CBC mode will be reset to 0.
 <p>
 Note:
 <ul>
 <li><em>This method throws an exception if the underlying signature algorithm
 does not compute a distinct message digest value prior to applying
 cryptographic primitives. These algorithms throw exception -
 DES, triple DES, AES, and KOREAN SEED.</em>
 <li><em>Any data previously accumulated from previous
 calls to the <code>update</code> method are discarded.</em>
 </ul>
 <p>
 The hash and output buffer data may overlap.
 <p />
 In addition to returning a <code>boolean</code> result, this method sets the
 result in an internal state which can be rechecked using assertion methods
 of the <a href="../../javacardx/security/SensitiveResult.html" title="class in javacardx.security"><code>SensitiveResult</code></a> class,
 if supported by the platform.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../javacard/security/Signature.html#verifyPreComputedHash(byte[],%20short,%20short,%20byte[],%20short,%20short)">verifyPreComputedHash</a></code>&nbsp;in class&nbsp;<code><a href="../../javacard/security/Signature.html" title="class in javacard.security">Signature</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>hashBuff</code> - the input buffer of precomputed hash to be verified</dd><dd><code>hashOff</code> - the offset into the buffer where the hash begins</dd><dd><code>hashLength</code> - the byte length of the hash</dd><dd><code>sigBuff</code> - the input buffer containing signature data</dd><dd><code>sigOffset</code> - the offset into <code>sigBuff</code> where signature data
            begins</dd><dd><code>sigLength</code> - the byte length of the signature data</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the signature verifies, <code>false</code>
         otherwise. Note, if <code>sigLength</code> is inconsistent with
         this <code>Signature</code> algorithm, <code>false</code> is
         returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if this JCRE owned temporary instance of the
 <code>OneShot</code> object was opened in a context different from that of the caller.</dd>
<dd><code><a href="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</a></code> - with the following reason codes:
                <ul>
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                key not initialized.
                <li><code>CryptoException.INVALID_INIT</code> if this
                <code>Signature</code> object is not initialized or
                initialized for signature sign mode.
                <li><code>CryptoException.ILLEGAL_USE</code> if one of
                the following conditions is met:
                <ul>
                <li>if the <code>hashLength</code> value is not equal
                to the length of the algorithm's message digest length.
                <li>if this <code>Signature</code> algorithm includes
                message recovery functionality.
                <li>if the
                Signature algorithm does not compute a distinct message
                digest value prior to applying cryptographic primitives
                </ul>
                </ul></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../javacard/security/Signature.html" title="class in javacard.security"><span class="strong">Prev Class</span></a></li>
<li><a href="../../javacard/security/SignatureMessageRecovery.html" title="interface in javacard.security"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?javacard/security/Signature.OneShot.html" target="_top">Frames</a></li>
<li><a href="Signature.OneShot.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_javacard.security.Signature">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_javacard.security.Signature">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><a href="../../COPYRIGHT_jcspecs.html">Copyright</a> &copy; 1998, 2015, Oracle and/or its affiliates. All rights reserved.</small></p>
</body>
</html>
